name: MOnet_AnalysisActivity
id: https://MOnet/schema ##temporary ask yuri if this is ok for the ID or what to use
prefixes:                                  
  linkml: https://w3id.org/linkml/
  xsd:
    prefix_prefix: xsd
    prefix_reference: http://www.w3.org/2001/XMLSchema#
imports:
  - linkml:types
default_range: string

classes:
  AnalysisActivity:
    description: >-
      Schema for AnalysisActivity table
    slots:
      - id
      - type #this type needs to be an enum for 'method'
      - execution_resource
      - git_url
      - has_input
      - name
      - part_of
      - started_at_time
      - used
      - ended_at_time

  LCMSmetabolomicsMethod:
    description: >-
      Schema for LCMSmetabolomicsMethod table
    is_a: AnalysisActivity
    slots:
      - Method_duration
      - Runtime
      - Resolution
      - Scan_Range
      - dd_MS2_Resolution
      - Loop_Count
      - Isolation_Window
      - analysis_id #declared_attr slots start here
      - source_analysis_id
      - Analytic 
      - Instrument
      - Model
      - Location
      - Custodian
      - NEXUS_ID
      - Injection
      - Polarity
      - Column
      - Mode
    
  WEOMMethod:
    description: >-
      Schema for WEOMMethod table
    is_a: AnalysisActivity
    slots:
      - Analytic #declared_attr slots
      - analysis_id
      - source_analysis_id
      - Instrument
      - Model
      - Location
      - Custodian
      - NEXUS_ID
      - Column
      - Mode
      - Detector
      - Injection_Volume
      - Sample_Volume
      - Number_of_Injections
      - Check_standard_spacing

  FTICRapexAcquisitionMethod:
    description: >-
      Schema for FTICRapexAcquisitionMethod table
    is_a: AnalysisActivity
    slots:
      - Capillary_voltage
      - q1_mass
      - TOF
      - scan_averages
      - IAT
      - FID
      - mass_range
      - peak_resolution
      - analysis_id #declared_attr slots
      - source_analysis_id
      - Location
      - Custodian
      - NEXUS_ID
      - Injection
      - Polarity

  GravimetricWaterContentMethod:
    description: >-
      Schema for GravimetricWaterContentMethod
    is_a: AnalysisActivity
    slots:
      - analysis_id #declared_attr
      - source_analysis_id
      - Analytic
      - Instrument
      - Model
      - Location
      - Custodian
      - NEXUS_ID

  HydraulicPropertiesMethod:
    description: >-
      Schema for HydraulicPropertiesMethod
    is_a: AnalysisActivity
    slots:
      - Instrument_model
      - Fitting_model
      - analysis_id #declared_attr
      - source_analysis_id
      - Analytic
      - Instrument
      - Location
      - Custodian
      - NEXUS_ID

  XrayComputedTomographyMethod:
    description: >-
      Schema for XrayComputedTomographyMethod
    is_a: AnalysisActivity
    slots:
      - analysis_id #declared_attr
      - source_analysis_id
      - Analytic
      - Instrument
      - Model
      - Location
      - Custodian
      - NEXUS_ID
      - X_ray_power
      - Cu_filter
      - Total_projections_collected
      - Rotation
      - Frames_recording_per_projection
      - Exposure_time_per_frame
      - Image_oxel_size_is
  pHMethod:
    description: >-
      Schema for pHMethod table
    is_a: AnalysisActivity
    slots:
      - Analytic #declared_attr slots
      - analysis_id
      - source_analysis_id
      - Instrument
      - Model
      - Location
      - Custodian
      - NEXUS_ID
      - Calibration #not declared attr

  MicrobialBiomassMethod:
    description: >-
      Schema for MicrobialBiomassMethod
    is_a: AnalysisActivity
    slots:
      - analysis_id #declared_attr
      - source_analysis_id
      - Analytic
      - Instrument
      - Location
      - Model
      - Custodian
      - NEXUS_ID
      - Detector
      - Column
      - Injection_Volume
      - Sample_Volume
      - Number_of_Injections
      - Check_standard_spacing

  RegenMethod:
    description: >-
      Schema for RegenMethod
    is_a: AnalysisActivity
    slots:
      - analysis_id #declared_attr
      - source_analysis_id
      - Analytic
      - Instrument
      - Model
      - Method
      - Incubation_Temp_C
      - Incubation_time
      - Wavelength
      - Location
      - Custodian
      - NEXUS_ID
      - X_ray_power
      - Cu_filter
      - Total_projections_collected
      - Rotation
      - Frames_recording_per_projection
      - Exposure_time_per_frame
      - Image_oxel_size_is

  KuoMethod:
    description: >-
      Schema for KuoMethod
    is_a: AnalysisActivity
    slots:
      - analysis_id #declared_attr
      - source_analysis_id
      - Analytic
      - Instrument
      - Model
      - Method
      - Wavelength
      - Location
      - Detection_Limit
      - Custodian
      - NEXUS_ID

enums:
  method:
    permissible_values:
      LCMSmetabolomicsMethod:
      fTICRapexAcquitisionMethod:
      gravimetricWaterContentMethod:
      phMethod:
      weomMethod:
      hydraulicPropertiesMethod:
      microbialbiomassMethod:
      xrayComputedTomographyMethod:
      regenMethod:
      kuoMethod:
slots:
  id:
    range: integer
    identifier: true
    description: "A unique identifier for a thing. Must be either a CURIE shorthand for a URI or a complete URI"
  execution_resource:
    description: "Example: NERSC-Cori"
  git_url:
    description: "Example: https://github.com/microbiomedata/mg_annotation/releases/tag/0.1"
  has_input:
    multivalued: true
    description: "An input to a process."
  has_output:
    multivalued: true
    description: "An output biosample to a processing step"
  name:
    description: "A human readable label for an entity"
  part_of:
    multivalued: true
    description: "Links a resource to another resource that either logically or physically includes it."
  started_at_time:
    range: datetime
  type:
    description: "An optional string that specifies the type object.  This is used to allow for searches for different kinds of objects."
    range: method
  used:
    description: "The instrument used to collect the data used in the analysis"
  ended_at_time:
    range: datetime 
  #above here slots for analysis activity table, they should probably be moved to a basic slots type file
  Method_duration:
  Runtime:
  Resolution:
  Scan_Range:
  dd_MS2_Resolution:
  Loop_Count:
  Isolation_Window:
  Capillary_voltage:
  q1_mass:
  TOF:
  scan_averages:
  IAT:
  FID:
  mass_range:
  peak_resolution:
  Instrument_model:
  Fitting_model:
  Analytic:
  Instrument:
  Model:
  Location:
  Custodian:
  NEXUS_ID:
  Injection:
  Polarity:
  Column:
  Mode:
  Calibration: #below this are declared_attr slots
  analysis_id:
    range: integer
  source_analysis_id:
    range: integer
  Detector:
  Injection_Volume:
  Sample_Volume:
  Number_of_Injections:
  Check_standard_spacing:
  X_ray_power:
  Cu_filter:
  Total_projections_collected:
  Rotation:
  Frames_recording_per_projection:
  Exposure_time_per_frame:
  Image_oxel_size_is:
  Method:
  Wavelength:
  Detection_Limit:
  Incubation_Temp_C:
  Incubation_time: