id: https://w3id.org/nmdc/basic_slots
name: NMDC-Basic-Slots
title: Basic Slots for NMDC Schema
description: >-
  Basic Linkml slots that are used across the Schema for National Microbiome Data Collaborative (NMDC).
  Examples include "id", "name", "description". These slots have primitive data types (e.g., sting) as ranges.

license: https://creativecommons.org/publicdomain/zero/1.0/

prefixes:
  dcterms: http://purl.org/dc/terms/

  skos: http://www.w3.org/2004/02/skos/core#
  linkml: https://w3id.org/linkml/
  nmdc: https://w3id.org/nmdc/

default_prefix: nmdc
default_range: string

types:
  external_identifier:
    typeof: uriorcurie
    uri: xsd:anyURI # isn't that inherited from typeof: uriorcurie? WARNING:root:No datatype specified for : external identifier, using plain Literal
    description: >-
      A CURIE representing an external identifier
    see_also:
      - https://microbiomedata.github.io/nmdc-schema/identifiers/
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'

slots:
  
  file_size_bytes:
    domain: DataObject
    range: bytes
    description: Size of the file in bytes

  analyte_category:
    required: true
    description: >
      The type of analyte(s) that were measured in the data generation process and analyzed
        in the Workflow Chain
    range: AnalyteCategoryEnum

  instrument_used:
    range: Instrument
    multivalued: true
    description: What instrument was used during DataGeneration or MaterialProcessing.
  direct_infusion_category:
    domain: DirectInfusionProcess
    range: DirectInfusionEnum
    description: used when a processed sample is introduced into a mass spectrometer without chromatographic separation
  eluent_introduction:
    domain: MassSpectrometry
    range: FluidHandling
    description: how a processed sample is introduced into a mass spectrometer, for example liquid chromatography or direct infusion through a syringe
  acquisition_category:
    domain: MassSpectrometry
    range: AcquisitionCategoryEnum
    description: whether only survey or tandem mass spectra are part of the experiment
  acquisition_strategy:
    domain: MassSpectrometry
    range: AcquisitionStrategyEnum
    description: whether spectra are dependent on or independent of any other spectra during the experiment
  resolution_category:
    domain: MassSpectrometry
    range: ResolutionCategoryEnum
    description: whether mass spectra are collected at higher than unity resolution
  mass_analyzer:
    domain: MassSpectrometry
    range: MassAnalyzerEnum
    description: which kind of mass analyzer is used during the spectra colleciton
  ionization_source:
    domain: MassSpectrometry
    range: IonizationSourceEnum
    description: which kind of ionization source is used to introduce analytes into a mass spectrometer
  mass_spectrum_collection_mode:
    domain: MassSpectrometry
    range: MassSpectrumCollectionModeEnum
    description: whether mass spectra are centroided during collection
  polarity_mode:
    domain: MassSpectrometry
    range: PolarityModeEnum
    description: the polarity of which ions are generated and detected
  processing_institution:
    domain: PlannedProcess
    range: ProcessingInstitutionEnum
    description: The organization that processed the sample.
  type:
    required: true
    range: uriorcurie
    slot_uri: rdf:type
    description: the id of the class that is instantiated by some data
    notes:
      - replacing legacy nmdc:type slot
      - will make examples files clearer
      - required for polymorphic MongoDB collections
    see_also:
      - https://github.com/microbiomedata/nmdc-schema/issues/1048
      - https://github.com/microbiomedata/nmdc-schema/issues/1233
      - https://github.com/microbiomedata/nmdc-schema/issues/248
    examples:
      - value: nmdc:Biosample
      - value: nmdc:Study
    designates_type: true

  external_database_identifiers:
    abstract: true
    description: Link to corresponding identifier in external database
    is_a: alternative_identifiers
    multivalued: true
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'
    range: external_identifier
    comments:
      - The value of this field is always a registered CURIE
    notes:
      - "had tried ranges of external identifier and string"
    close_mappings:
      - skos:closeMatch
  dna_absorb1:
    is_a: biomaterial_purity
    description: 260/280 measurement of DNA sample purity
    title: DNA absorbance 260/280
    comments:
      - Recommended value is between 1 and 3.
    examples:
      - value: '2.02'
    from_schema: https://example.com/nmdc_dh
    rank: 7
    range: float
    slot_group: JGI-Metagenomics
    recommended: true
  dna_absorb2:
    is_a: biomaterial_purity
    description: 260/230 measurement of DNA sample purity
    title: DNA absorbance 260/230
    comments:
      - Recommended value is between 1 and 3.
    examples:
      - value: '2.02'
    from_schema: https://example.com/nmdc_dh
    rank: 8
    range: float
    slot_group: JGI-Metagenomics
    recommended: true
  dna_concentration:
    see_also:
      nmdc:nucleic_acid_concentration
    title: DNA concentration in ng/ul
    comments:
      - Units must be in ng/uL. Enter the numerical part only. Must be calculated using
        a fluorometric method. Acceptable values are 0-2000.
    examples:
      - value: '100'
    from_schema: https://example.com/nmdc_dh
    rank: 5
    range: float
    slot_group: JGI-Metagenomics
    recommended: true
    minimum_value: 0
    maximum_value: 2000

  extraction_target:
    description: Provides the target biomolecule that has been separated from a sample during an extraction process.
    rank: 1000
    domain_of:
      - Extraction
    range: ExtractionTargetEnum
    notes:
      - todos, remove nucl_acid_ext from OmicsProcessing (DataGeneration)
    narrow_mappings:
      - NCIT:C177560
      - MIXS:0000037

  id:
    required: true
    identifier: true
    #    domain: NamedThing
    range: uriorcurie
    description: >-
      A unique identifier for a thing.
      Must be either a CURIE shorthand for a URI or a complete URI
    notes:
      - "abstracted pattern: prefix:typecode-authshoulder-blade(.version)?(_seqsuffix)?"
      - 'a minimum length of 3 characters is suggested for typecodes, but 1 or 2 characters will be accepted'
      - 'typecodes must correspond 1:1 to a class in the NMDC schema. this will be checked via per-class id slot usage assertions'
      - 'minting authority shoulders should probably be enumerated and checked in the pattern'
    examples:
      - value: nmdc:mgmag-00-x012.1_7_c1
        description: 'https://github.com/microbiomedata/nmdc-schema/pull/499#discussion_r1018499248'
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'

  name:
    range: string
    description: >-
      A human readable label for an entity

  description:
    range: string
    description: >-
      a human-readable description of a thing
    slot_uri: dcterms:description

  title:
    range: string
    description: >-
      A name given to the entity that differs from the name/label programmatically assigned to it.
      For example, when extracting study information for GOLD, the GOLD system has assigned a name/label.
      However, for display purposes, we may also wish the capture the title of the proposal that was used to fund the study.
    exact_mappings:
      - dcterms:title

  alternative_titles:
    range: string
    multivalued: true
    description: >-
      A list of alternative titles for the entity.
      The distinction between title and alternative titles is application-specific.
    exact_mappings:
      - dcterms:alternative

  alternative_names:
    range: string
    multivalued: true
    description: >-
      A list of alternative names used to refer to the entity.
      The distinction between name and alternative names is application-specific.
    exact_mappings:
      - dcterms:alternative
      - skos:altLabel

  alternative_descriptions:
    range: string
    multivalued: true
    description: >-
      A list of alternative descriptions for the entity.
      The distinction between description and alternative descriptions is application-specific.

  alternative_identifiers:
    range: uriorcurie
    multivalued: true
    description: >-
      A list of alternative identifiers for the entity.
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'

  start_date:
    range: string
    description: The date on which any process or activity was started
    comments:
      - We are using string representations of dates until all components of our ecosystem can handle ISO 8610 dates
      - The date should be formatted as YYYY-MM-DD
    todos:
      - add date string validation pattern

  end_date:
    range: string
    description: The date on which any process or activity was ended
    comments:
      - We are using string representations of dates until all components of our ecosystem can handle ISO 8610 dates
      - The date should be formatted as YYYY-MM-DD
    todos:
      - add date string validation pattern

  protocol_link:
    domain: PlannedProcess
    range: Protocol


  #  nucleic_acid_concentration:
  #    range: InstrumentValue

  biomaterial_purity:
    domain: ProcessedSample
    range: QuantityValue


enums:
  ProcessingInstitutionEnum:
    notes:
      - use ROR meanings like https://ror.org/0168r3w48 for UCSD
    from_schema: NMDC_enums_roundtrip
    permissible_values:
      UCSD:
        title: University of California, San Diego
        meaning: https://ror.org/0168r3w48

      JGI:
        title: Joint Genome Institute
        meaning: https://ror.org/04xm1d337

      EMSL:
        title: Environmental Molecular Sciences Laboratory
        meaning: https://ror.org/04rc0xn13
        aliases:
          - Environmental Molecular Science Laboratory
          - Environmental Molecular Sciences Lab

      Battelle:
        title: Battelle Memorial Institute
        meaning: https://ror.org/01h5tnr73

      ANL:
        title: Argonne National Laboratory
        meaning: https://ror.org/05gvnxz63

      UCD_Genome_Center:
        title: University of California, Davis Genome Center
        meaning: https://genomecenter.ucdavis.edu/

#  instrument_name_enum:
#    todos:
#      - remove "21T Agilent"
#    permissible_values:
#      - 12T_FTICR_B
#      - 15T_FTICR
#      - 21T Agilent
#      - 21T_Agilent
#      - Agilent_GC_MS_01
#      - Illumina HiSeq
#      - Illumina HiSeq 2500
#      - Illumina HiSeq 2500-1TB
#      - Illumina NextSeq 550
#      - Illumina NovaSeq
#      - Illumina NovaSeq S4
#      - QExactHF03
#      - QExactP02
#      - VOrbiETD04


