id: https://w3id.org/nmdc/basic_slots
name: NMDC-Basic-Slots
title: Basic Slots for NMDC Schema
description: >-
  Basic Linkml slots that are used across the Schema for National Microbiome Data Collaborative (NMDC).
  Examples include "id", "name", "description". These slots have primitive data types (e.g., sting) as ranges.

license: https://creativecommons.org/publicdomain/zero/1.0/

prefixes:
  dcterms: http://purl.org/dc/terms/
  linkml: https://w3id.org/linkml/
  nmdc: https://w3id.org/nmdc/
  skos: http://www.w3.org/2004/02/skos/core#

imports:
  - linkml:types

default_prefix: nmdc
default_range: string

types:
  external_identifier:
    typeof: uriorcurie
    uri: xsd:anyURI
    notes:
      - "isn't the xsd:anyURI inherited from typeof: uriorcurie?"
    description: >-
      A CURIE representing an external identifier
    see_also:
      - https://microbiomedata.github.io/nmdc-schema/identifiers/
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'

slots:

  designated_class:
    range: uriorcurie
    designates_type: true
    notes:
      - in berkeley-schem-fy24, this will be implemented with the type slot, which will have rdf:type as its slot_uri
      - no matter what slot bears the designates_type attribute,
        its values must allways be the class_uri of the class that has been instantiated
      - this would be required on all instances in a polymorphic Database slot, like planned_process_set
    see_also:
      - https://github.com/microbiomedata/nmdc-schema/issues/1048
      - https://github.com/microbiomedata/nmdc-schema/issues/1233
  external_database_identifiers:
    abstract: true
    description: Link to corresponding identifier in external database
    is_a: alternative_identifiers
    multivalued: true
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'
    range: external_identifier
    comments:
      - The value of this field is always a registered CURIE
    close_mappings:
      - skos:closeMatch

  dna_concentration:
    see_also:
      nmdc:nucleic_acid_concentration
    title: DNA concentration in ng/ul
    comments:
      - Units must be in ng/uL. Enter the numerical part only. Must be calculated using
        a fluorometric method. Acceptable values are 0-2000.
    examples:
      - value: '100'
    from_schema: https://example.com/nmdc_dh
    rank: 5
    range: float
    slot_group: JGI-Metagenomics
    recommended: true
    minimum_value: 0
    maximum_value: 2000

  id:
    required: true
    identifier: true
    range: uriorcurie
    description: >-
      A unique identifier for a thing.
      Must be either a CURIE shorthand for a URI or a complete URI
    notes:
      - "abstracted pattern: prefix:typecode-authshoulder-blade(.version)?(_seqsuffix)?"
      - 'a minimum length of 3 characters is suggested for typecodes, but 1 or 2 characters will be accepted'
      - 'typecodes must correspond 1:1 to a class in the NMDC schema. this will be checked via per-class id slot usage assertions'
      - 'minting authority shoulders should probably be enumerated and checked in the pattern'
    examples:
      - value: nmdc:mgmag-00-x012.1_7_c1
        description: 'https://github.com/microbiomedata/nmdc-schema/pull/499#discussion_r1018499248'
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'

  name:
    range: string
    description: >-
      A human readable label for an entity

  description:
    range: string
    description: >-
      a human-readable description of a thing
    slot_uri: dcterms:description

  type:
    deprecated: >-
      Due to confusion about what values are used for this slot, it is best not to use this slot.
      See additional discussion about rdf:type in the berkeley-schema-fy24
      See https://github.com/microbiomedata/nmdc-schema/issues/248
    range: string
    description: >-
      An optional string that specifies the type object.
    examples:
      - value: nmdc:Biosample
      - value: nmdc:Study
    see_also:
      - https://github.com/microbiomedata/nmdc-schema/issues/1233

  title:
    range: string
    description: >-
      A name given to the entity that differs from the name/label programmatically assigned to it.
      For example, when extracting study information for GOLD, the GOLD system has assigned a name/label.
      However, for display purposes, we may also wish the capture the title of the proposal that was used to fund the study.
    exact_mappings:
      - dcterms:title

  alternative_titles:
    range: string
    multivalued: true
    description: >-
      A list of alternative titles for the entity.
      The distinction between title and alternative titles is application-specific.
    exact_mappings:
      - dcterms:alternative

  alternative_names:
    range: string
    multivalued: true
    description: >-
      A list of alternative names used to refer to the entity.
      The distinction between name and alternative names is application-specific.
    exact_mappings:
      - dcterms:alternative
      - skos:altLabel

  alternative_descriptions:
    range: string
    multivalued: true
    description: >-
      A list of alternative descriptions for the entity.
      The distinction between description and alternative descriptions is application-specific.

  alternative_identifiers:
    range: uriorcurie
    multivalued: true
    description: >-
      A list of alternative identifiers for the entity.
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'

  start_date:
    range: string
    description: The date on which any process or activity was started
    comments:
      - We are using string representations of dates until all components of our ecosystem can handle ISO 8610 dates objects
      - The date should be formatted as YYYY-MM-DD
    todos:
      - add date string validation pattern

  end_date:
    range: string
    description: The date on which any process or activity was ended
    comments:
      - We are using string representations of dates until all components of our ecosystem can handle ISO 8610 dates objects
      - The date should be formatted as YYYY-MM-DD
    todos:
      - add date string validation pattern

  qc_comment:
    range: string
    description: >-
      Slot to store additional comments about laboratory or workflow output. For workflow output
      it may describe the particular workflow stage that failed. (ie Failed at call-stage due to a malformed fastq file).

  qc_status:
    description: >-
      Stores information about the result of a process 
      (ie the process of sequencing a library may have for qc_status of 'fail' if not enough data was generated)
    range: StatusEnum

enums:

  DeviceEnum:
    permissible_values:
      Orbital Shaker:
      Thermomixer:
      Vortex:
      Agitation plunger:
      Drying oven:
      CEREX System 96 processor:

  ExtractionTargetEnum:
    permissible_values:
      DNA: { }
      RNA: { }
      metabolite: { }
      protein: { }
      phenol/chloroform extraction: { }

  FailureWhereEnum:
    description: The permitted values for describing where in the process, either a lab or analysis workflow step, the failure occurred.
    comments:
      - At Chris' recommendation permissible values for this enumeration are the same as Class names.
    permissible_values:
      OmicsProcessing:
        description: A failure has occurred in omics processing, a lab process.
      Pooling:
        description: A failure has occurred in pooling, a lab process.
      Extraction:
        description: A failure has occurred in extraction, a lab process.
      LibraryPreparation:
        description: A failure has occurred in library preparation, a lab process.
      MetagenomeAssembly:
        description: A failure has occurred in metagenome assembly, a workflow process.
      MetatranscriptomeActivity:
        description: A failure has occurred in metatranscriptome analysis, a workflow process.
      MagsAnalysisActivity:
        description: A failure has occurred in binning, a workflow process to generate metagenome-assembled genomes (MAGS).
      ReadQcAnalysisActivity:
        description: A failure has occurred in read qc, a workflow process.
      ReadBasedTaxonomyAnalysisActivity:
        description: A failure has occurred in reads based taxonomy, a workflow process.
      MetagenomeAnnotationActivity:
        description: A failure has occurred in annotation, a workflow process.

  FailureWhatEnum:
    description: The permitted values for describing where a failure occurred during processing in the lab during analysis workflows.
    permissible_values:
      low_read_count:
        description: Number of output reads is not sufficient to continue to the next analysis step.
      malformed_data:
        description: Workflow failure reading input or writing the output file(s).
      assembly_size_too_small:
        description: The size of the metagenome or metatranscriptome assembly is too small to proceed to the next analysis workflow.
      no_valid_data_generated:
        description: A process ran but did not produce any output. Ie binning ran but did not produce any medium or high quality bins.
      other:
        description: A lab process or analysis workflow has failed in a way that has not been captured by the available values yet.
          Please use slot 'qc_comment' to specify details.

  processing_institution_enum:
    notes:
      - use ROR meanings like https://ror.org/0168r3w48 for UCSD
    from_schema: NMDC_enums_roundtrip
    permissible_values:
      UCSD:
        title: University of California, San Diego
        meaning: https://ror.org/0168r3w48

      JGI:
        title: Joint Genome Institute
        meaning: https://ror.org/04xm1d337

      EMSL:
        title: Environmental Molecular Sciences Laboratory
        meaning: https://ror.org/04rc0xn13
        aliases:
          - Environmental Molecular Science Laboratory
          - Environmental Molecular Sciences Lab

      Battelle:
        title: Battelle Memorial Institute
        meaning: https://ror.org/01h5tnr73

      ANL:
        title: Argonne National Laboratory
        meaning: https://ror.org/05gvnxz63

      UCD_Genome_Center:
        title: University of California, Davis Genome Center
        meaning: https://genomecenter.ucdavis.edu/

  StatusEnum:
    permissible_values:
      pass: { }
      fail: { }

  #      accepted: { }
  #      archived: { }
  #      deleted: { }
  #      draft: { }
  #      rejected: { }
  #      submitted: { }
  #      superseded: { }
  #      withdrawn: { }


#  instrument_name_enum:
#    todos:
#      - remove "21T Agilent"
#    permissible_values:
#      - 12T_FTICR_B
#      - 15T_FTICR
#      - 21T Agilent
#      - 21T_Agilent
#      - Agilent_GC_MS_01
#      - Illumina HiSeq
#      - Illumina HiSeq 2500
#      - Illumina HiSeq 2500-1TB
#      - Illumina NextSeq 550
#      - Illumina NovaSeq
#      - Illumina NovaSeq S4
#      - QExactHF03
#      - QExactP02
#      - VOrbiETD04


