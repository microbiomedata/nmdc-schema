id: https://microbiomedata/schema/core
name: NMDC-Core
title: NMDC Schema Core Types
description: >-
  Schema for National Microbiome Data Collaborative (NMDC), Core Types
license: https://creativecommons.org/publicdomain/zero/1.0/

prefixes:
  nmdc: https://microbiomedata/meta/
  mixs: https://w3id.org/gensc/
  wgs: http://www.w3.org/2003/01/geo/wgs84_pos
  qud: http://qudt.org/1.1/schema/qudt#
  dcterms: http://purl.org/dc/terms/
  schema: http://schema.org/
  MS: http://purl.obolibrary.org/obo/MS_
  igsnvoc: https://igsn.org/voc/v1/
  biolinkml: https://w3id.org/biolink/biolinkml/
  
default_prefix: nmdc
default_range: string

default_curi_maps:
  - obo_context
  - idot_context

imports:
  - biolinkml:types
  - prov

subsets:
  environment: {}
  investigation: {}
  mixs extension: {}
  nucleic acid sequence source: {}
  sequencing: {}
  soil: {}

types:

  bytes:
    description: >-
      An integer value that corresponds to a size in bytes
    base: int
    uri: xsd:int
    see_also:
      - UO:0000233
  
  decimal degree:
    description: >-
      A decimal degree expresses latitude or longitude as decimal fractions.
    uri: xsd:decimal
    base: float
    see_also:
      - https://en.wikipedia.org/wiki/Decimal_degrees
      
  language code:
    description: >-
      A language code conforming to ISO_639-1
    see_also:
      - https://en.wikipedia.org/wiki/ISO_639-1
    base: str
    uri: xsd:language

  unit:
    base: str
    uri: xsd:string
    mappings:
      - qud:Unit
      - UO:0000000

    
classes:

  named thing:
    description: "a databased entity or concept/class"
    abstract: true
    slots:
      - id
      - name
      - description
      - alternate identifiers
      
  attribute value:
    description: >-
      The value for any value of a attribute for a sample. This object can hold both the un-normalized atomic
      value and the structured value
    slots:
      - has raw value
      - was generated by
    slot_usage:
      type:
        description: >-
          An optional string that specified the type of object.
        required: false

    
  quantity value:
    is_a: attribute value
    description: >-
      A simple quantity, e.g. 2cm
    slots:
      - has unit
      - has numeric value
    slot_usage:
      has raw value:
        description: >-
          Unnormalized atomic string representation, should in syntax {number} {unit}
      has unit:
        description: >-
          The unit of the quantity
      has numeric value:
        description: >-
          The number part of the quantity
        range:
          double
    mappings:
      - schema:QuantityValue

  person value:
    is_a: attribute value
    description: >-
      An attribute value representing a person
    slots:
      - orcid
    todos:
      - add additional fields e.g for institution
    slot_usage:
      has raw value:
        description: >-
          the full name of the Investgator in format FIRST LAST
          
      
  text value:
    is_a: attribute value
    description: >-
      A basic string value
    slots:
      - language
      
  url value:
    is_a: attribute value
    description: >-
      A value that is a string that conforms to URL syntax

  timestamp value:
    is_a: attribute value
    description: >-
      A value that is a timestamp. The range should be ISO-8601
    #slots:
    #  - year
    #  - month
    #  - day

      
  integer value:
    is_a: attribute value
    description: >-
      A value that is an integer
    slots:
      - has numeric value

  boolean value:
    is_a: attribute value
    description: >-
      A value that is a boolean
    slots:
      - has boolean value
      
  controlled term value:
    is_a: attribute value
    description: >-
      A controlled term or class from an ontology
    slots:
      - term
    # TODO: add fields for ontology, branch

  geolocation value:
    is_a: attribute value
    description: >-
      A normalized value for a location on the earth's surface
    slots:
      - latitude
      - longitude
    slot_usage:
      has raw value:
        description: >-
          The raw value for a  geolocation should follow {lat} {long}
        # to_str: {latitude} {longitude}
    mappings:
      - schema:GeoCoordinates

  ontology class:
    is_a: named thing

  environmental material term:
    is_a: ontology class

slots:

  id:
    identifier: true
    multivalued: false
    description: >-
      A unique identifier for a thing.
      Must be either a CURIE shorthand for a URI or a complete URI
    #required: false # for now we setting this to false until we develop an id template

  name:
    multivalued: false
    range: string
    description: >-
      A human readable label for an entity

  description:
    range: string
    multivalued: false
    description: >-
      a human-readable description of a thing
    slot_uri: dcterms:description

  alternate identifiers:
    aliases: ['mappings', 'alt ids', 'xrefs']
    description: >-
      Non-primary identifiers
    multivalued: true
    range: string
    required: false
    
  language:
    range: language code
    description: >-
      Should use ISO 639-1 code e.g. "en", "fr"

  attribute:
    aliases: ['field', 'property', 'template field', 'key', 'characteristic']
    abstract: true
    description: >-
      A attribute of a biosample. Examples: depth, habitat, material.
      For NMDC, attributes SHOULD be mapped to terms within a MIxS template
    
  has raw value:
    description: >-
      The value that was specified for an annotation in raw form, i.e. a string. E.g. "2 cm" or "2-4 cm"
    multivalued: false
    required: false
    domain: attribute value
    range: string
    
  has unit:
    description: >-
      Links a quantity value to a unit
    aliases:
      - scale
    range: unit
    mappings:
      - qud:unit
      - schema:unitCode

  has numeric value:
    description: >-
      Links a quantity value to a number
    multivalued: false
    range: float
    mappings:
      - qud:quantityValue
      - schema:value
      
  has boolean value:
    description: >-
      Links a quantity value to a boolean
    range: boolean
    multivalued: false
  
  latitude:
    domain: geolocation value
    range: decimal degree
    description: >-
      latitude
    slot_uri: wgs:lat
    mappings:
      - schema:latitude

  longitude:
    domain: geolocation value
    range: decimal degree
    description: >-
      longitude
    slot_uri: wgs:long
    mappings:
      - schema:longitude

  term:
    domain: controlled term value
    range: ontology class
    description: >-
      pointer to an ontology class
    slot_uri: rdf:type
    inlined: true
    
  orcid:
    domain: person value
    range: string
