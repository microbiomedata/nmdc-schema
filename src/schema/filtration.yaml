id: https://w3id.org/nmdc/filtration
name: NMDC-Filtration

comments:
  - which of these slots will be searchable in the DataPortal?
  - which of these slots will be introspected by downstream processes?
  - are there any other use cases for including a slot?

prefixes:
  linkml: https://w3id.org/linkml/
  nmdc: https://w3id.org/nmdc/

imports:
  - linkml:types

default_prefix: nmdc
default_range: string

classes:
  Solution:
    class_uri: nmdc:Solution
    slots:
      - has_part
      - designated_class
      - volume
    slot_usage:
      has_part:
        range: SolutionComponentEnum
      volume:
        description: The volume of the solution that was used in some process
    comments:
      - has_part is a multivalued slot, despite it's singular name

  Filter:
    class_uri: nmdc:Filter
    slots:
      - filter_material
      - filter_pore_size
      - designated_class
    comments:
      - this is like a MaterialEntity without an id

  FilterConditioning:
    class_uri: nmdc:FilterConditioning
    slots:
      - filter_input
      - solution_inputs
      - designated_class
      - pressure_applied
    comments:
      - this is like a PlannedProcess without an id
      - could limit slot growth by allowing this any of range on has_input
      - Solution.volume may not be worth capturing for filter conditioning
  #    slot_usage:
  #      has_input:
  #        any_of:
  #          - range: Solution
  #          - range: Filter

  Filtration:
    class_uri: nmdc:Filtration
    is_a: PlannedProcess
    slots:
      - has_part
      - pressure_applied
    slot_usage:
      has_part:
        range: FilterConditioning
    comments:
      - has_part is a multivalued slot, despite it's singular name

slots:
  filter_input:
    description: The filter that was used in some process
    comments:
      - not to be confused with MIXS:0000412 or MIXS:0000096 ?
    range: Filter
    inlined: true
  solution_inputs:
    description: The solution(s) that were used in some process
    range: Solution
    multivalued: true
    list_elements_ordered: true
    inlined_as_list: true
  filter_material:
    range: FilterMaterialEnum
  filter_pore_size:
    range: QuantityValue
  pressure_applied:
    range: QuantityValue

enums:
  SolutionComponentEnum:
    permissible_values:
      - water
      - methanol
      - 100 mM potassium sulfate
    comments:
      - needs PV meanings
      - do we assume that, if all components are only in the style <concentration/substance>, that the remainder of the solution is some kind of water?
  FilterMaterialEnum:
    permissible_values:
      - nitrocellulose
      - Whatman paper
      - PTFE
    comments:
      - needs PV meanings
