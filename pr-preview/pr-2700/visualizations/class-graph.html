<html>
<head>
    <title>refscan graph</title>
    <style>
        #graph-container {
            width: 100%;
            height: 100vh;
        }
        #metadata-container {
            font-family: sans-serif;
            font-size: 0.8em;
            color: #999999;
            position: absolute;
            bottom: 1em;
            right: 1em;
            text-align: right;
        }
        #metadata-container ul {
            list-style-type: none;
            margin: 0;
        }
        .text-button {
            color: inherit;
            text-decoration: underline;
            background: none;
            border: none;
            margin: 0;
            padding: 0;
            cursor: pointer;
        }
    </style>
</head>
<body>

<!-- Note: A Python script will replace the `{{ ... }}` placeholders. -->
<div
        id="graph-data"
        data-graph-data-json-str-base64="W3siZGF0YSI6IHsiaWQiOiAiQmlvc2FtcGxlIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJTdHVkeSIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiRmllbGRSZXNlYXJjaFNpdGUiLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIkNhbGlicmF0aW9uSW5mb3JtYXRpb24iLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFPYmplY3QiLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIkNvbGxlY3RpbmdCaW9zYW1wbGVzRnJvbVNpdGUiLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIk51Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJJbnN0cnVtZW50IiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJQcm9jZXNzZWRTYW1wbGUiLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIk1hc3NTcGVjdHJvbWV0cnkiLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIkNocm9tYXRvZ3JhcGh5Q29uZmlndXJhdGlvbiIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiTWFzc1NwZWN0cm9tZXRyeUNvbmZpZ3VyYXRpb24iLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFHZW5lcmF0aW9uIiwgImlzX2Fic3RyYWN0IjogdHJ1ZX19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGFnZW5vbWVBc3NlbWJseSIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiUmVhZFFjQW5hbHlzaXMiLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGFwcm90ZW9taWNzQW5hbHlzaXMiLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIk1hZ3NBbmFseXNpcyIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiUmVhZEJhc2VkVGF4b25vbXlBbmFseXNpcyIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiQW5ub3RhdGluZ1dvcmtmbG93IiwgImlzX2Fic3RyYWN0IjogdHJ1ZX19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGF0cmFuc2NyaXB0b21lRXhwcmVzc2lvbkFuYWx5c2lzIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJOb21BbmFseXNpcyIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiTWV0YXRyYW5zY3JpcHRvbWVBc3NlbWJseSIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiV29ya2Zsb3dFeGVjdXRpb24iLCAiaXNfYWJzdHJhY3QiOiB0cnVlfX0sIHsiZGF0YSI6IHsiaWQiOiAiTWV0YXRyYW5zY3JpcHRvbWVBbm5vdGF0aW9uIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJNZXRhYm9sb21pY3NBbmFseXNpcyIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiTWV0YWdlbm9tZUFubm90YXRpb24iLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIk1hbmlmZXN0IiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJGdW5jdGlvbmFsQW5ub3RhdGlvbkFnZ01lbWJlciIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiRnVuY3Rpb25hbEFubm90YXRpb24iLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIkZpbHRyYXRpb25Qcm9jZXNzIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJNYXRlcmlhbFByb2Nlc3NpbmciLCAiaXNfYWJzdHJhY3QiOiB0cnVlfX0sIHsiZGF0YSI6IHsiaWQiOiAiQ2hlbWljYWxDb252ZXJzaW9uUHJvY2VzcyIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiTGlicmFyeVByZXBhcmF0aW9uIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJQb29saW5nIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJFeHRyYWN0aW9uIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJDaHJvbWF0b2dyYXBoaWNTZXBhcmF0aW9uUHJvY2VzcyIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiU3ViU2FtcGxpbmdQcm9jZXNzIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJNaXhpbmdQcm9jZXNzIiwgImlzX2Fic3RyYWN0IjogZmFsc2V9fSwgeyJkYXRhIjogeyJpZCI6ICJEaXNzb2x2aW5nUHJvY2VzcyIsICJpc19hYnN0cmFjdCI6IGZhbHNlfX0sIHsiZGF0YSI6IHsiaWQiOiAiU3RvcmFnZVByb2Nlc3MiLCAiaXNfYWJzdHJhY3QiOiBmYWxzZX19LCB7ImRhdGEiOiB7ImlkIjogIkJpb3NhbXBsZV9fdG9fX1N0dWR5IiwgInNvdXJjZSI6ICJCaW9zYW1wbGUiLCAidGFyZ2V0IjogIlN0dWR5IiwgImxhYmVsIjogImFzc29jaWF0ZWRfc3R1ZGllcyJ9fSwgeyJkYXRhIjogeyJpZCI6ICJCaW9zYW1wbGVfX3RvX19GaWVsZFJlc2VhcmNoU2l0ZSIsICJzb3VyY2UiOiAiQmlvc2FtcGxlIiwgInRhcmdldCI6ICJGaWVsZFJlc2VhcmNoU2l0ZSIsICJsYWJlbCI6ICJjb2xsZWN0ZWRfZnJvbSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJDYWxpYnJhdGlvbkluZm9ybWF0aW9uX190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiQ2FsaWJyYXRpb25JbmZvcm1hdGlvbiIsICJ0YXJnZXQiOiAiRGF0YU9iamVjdCIsICJsYWJlbCI6ICJjYWxpYnJhdGlvbl9vYmplY3QifX0sIHsiZGF0YSI6IHsiaWQiOiAiQ29sbGVjdGluZ0Jpb3NhbXBsZXNGcm9tU2l0ZV9fdG9fX0ZpZWxkUmVzZWFyY2hTaXRlIiwgInNvdXJjZSI6ICJDb2xsZWN0aW5nQmlvc2FtcGxlc0Zyb21TaXRlIiwgInRhcmdldCI6ICJGaWVsZFJlc2VhcmNoU2l0ZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiQ29sbGVjdGluZ0Jpb3NhbXBsZXNGcm9tU2l0ZV9fdG9fX0Jpb3NhbXBsZSIsICJzb3VyY2UiOiAiQ29sbGVjdGluZ0Jpb3NhbXBsZXNGcm9tU2l0ZSIsICJ0YXJnZXQiOiAiQmlvc2FtcGxlIiwgImxhYmVsIjogImhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmdfX3RvX19TdHVkeSIsICJzb3VyY2UiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAidGFyZ2V0IjogIlN0dWR5IiwgImxhYmVsIjogImFzc29jaWF0ZWRfc3R1ZGllcyJ9fSwgeyJkYXRhIjogeyJpZCI6ICJOdWNsZW90aWRlU2VxdWVuY2luZ19fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIk51Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgInRhcmdldCI6ICJJbnN0cnVtZW50IiwgImxhYmVsIjogImluc3RydW1lbnRfdXNlZCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJOdWNsZW90aWRlU2VxdWVuY2luZ19fdG9fX1Byb2Nlc3NlZFNhbXBsZSIsICJzb3VyY2UiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmdfX3RvX19CaW9zYW1wbGUiLCAic291cmNlIjogIk51Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgInRhcmdldCI6ICJCaW9zYW1wbGUiLCAibGFiZWwiOiAiaGFzX2lucHV0In19LCB7ImRhdGEiOiB7ImlkIjogIk51Y2xlb3RpZGVTZXF1ZW5jaW5nX190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAidGFyZ2V0IjogIkRhdGFPYmplY3QiLCAibGFiZWwiOiAiaGFzX291dHB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNYXNzU3BlY3Ryb21ldHJ5X190b19fQ2FsaWJyYXRpb25JbmZvcm1hdGlvbiIsICJzb3VyY2UiOiAiTWFzc1NwZWN0cm9tZXRyeSIsICJ0YXJnZXQiOiAiQ2FsaWJyYXRpb25JbmZvcm1hdGlvbiIsICJsYWJlbCI6ICJnZW5lcmF0ZXNfY2FsaWJyYXRpb24ifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWFzc1NwZWN0cm9tZXRyeV9fdG9fX0Nocm9tYXRvZ3JhcGh5Q29uZmlndXJhdGlvbiIsICJzb3VyY2UiOiAiTWFzc1NwZWN0cm9tZXRyeSIsICJ0YXJnZXQiOiAiQ2hyb21hdG9ncmFwaHlDb25maWd1cmF0aW9uIiwgImxhYmVsIjogImhhc19jaHJvbWF0b2dyYXBoeV9jb25maWd1cmF0aW9uIn19LCB7ImRhdGEiOiB7ImlkIjogIk1hc3NTcGVjdHJvbWV0cnlfX3RvX19NYXNzU3BlY3Ryb21ldHJ5Q29uZmlndXJhdGlvbiIsICJzb3VyY2UiOiAiTWFzc1NwZWN0cm9tZXRyeSIsICJ0YXJnZXQiOiAiTWFzc1NwZWN0cm9tZXRyeUNvbmZpZ3VyYXRpb24iLCAibGFiZWwiOiAiaGFzX21hc3Nfc3BlY3Ryb21ldHJ5X2NvbmZpZ3VyYXRpb24ifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWFzc1NwZWN0cm9tZXRyeV9fdG9fX1N0dWR5IiwgInNvdXJjZSI6ICJNYXNzU3BlY3Ryb21ldHJ5IiwgInRhcmdldCI6ICJTdHVkeSIsICJsYWJlbCI6ICJhc3NvY2lhdGVkX3N0dWRpZXMifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWFzc1NwZWN0cm9tZXRyeV9fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIk1hc3NTcGVjdHJvbWV0cnkiLCAidGFyZ2V0IjogIkluc3RydW1lbnQiLCAibGFiZWwiOiAiaW5zdHJ1bWVudF91c2VkIn19LCB7ImRhdGEiOiB7ImlkIjogIk1hc3NTcGVjdHJvbWV0cnlfX3RvX19Qcm9jZXNzZWRTYW1wbGUiLCAic291cmNlIjogIk1hc3NTcGVjdHJvbWV0cnkiLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWFzc1NwZWN0cm9tZXRyeV9fdG9fX0Jpb3NhbXBsZSIsICJzb3VyY2UiOiAiTWFzc1NwZWN0cm9tZXRyeSIsICJ0YXJnZXQiOiAiQmlvc2FtcGxlIiwgImxhYmVsIjogImhhc19pbnB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNYXNzU3BlY3Ryb21ldHJ5X190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiTWFzc1NwZWN0cm9tZXRyeSIsICJ0YXJnZXQiOiAiRGF0YU9iamVjdCIsICJsYWJlbCI6ICJoYXNfb3V0cHV0In19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFHZW5lcmF0aW9uX190b19fU3R1ZHkiLCAic291cmNlIjogIkRhdGFHZW5lcmF0aW9uIiwgInRhcmdldCI6ICJTdHVkeSIsICJsYWJlbCI6ICJhc3NvY2lhdGVkX3N0dWRpZXMifX0sIHsiZGF0YSI6IHsiaWQiOiAiRGF0YUdlbmVyYXRpb25fX3RvX19JbnN0cnVtZW50IiwgInNvdXJjZSI6ICJEYXRhR2VuZXJhdGlvbiIsICJ0YXJnZXQiOiAiSW5zdHJ1bWVudCIsICJsYWJlbCI6ICJpbnN0cnVtZW50X3VzZWQifX0sIHsiZGF0YSI6IHsiaWQiOiAiRGF0YUdlbmVyYXRpb25fX3RvX19Qcm9jZXNzZWRTYW1wbGUiLCAic291cmNlIjogIkRhdGFHZW5lcmF0aW9uIiwgInRhcmdldCI6ICJQcm9jZXNzZWRTYW1wbGUiLCAibGFiZWwiOiAiaGFzX2lucHV0In19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFHZW5lcmF0aW9uX190b19fQmlvc2FtcGxlIiwgInNvdXJjZSI6ICJEYXRhR2VuZXJhdGlvbiIsICJ0YXJnZXQiOiAiQmlvc2FtcGxlIiwgImxhYmVsIjogImhhc19pbnB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEYXRhR2VuZXJhdGlvbl9fdG9fX0RhdGFPYmplY3QiLCAic291cmNlIjogIkRhdGFHZW5lcmF0aW9uIiwgInRhcmdldCI6ICJEYXRhT2JqZWN0IiwgImxhYmVsIjogImhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiRGF0YU9iamVjdF9fdG9fX01hc3NTcGVjdHJvbWV0cnkiLCAic291cmNlIjogIkRhdGFPYmplY3QiLCAidGFyZ2V0IjogIk1hc3NTcGVjdHJvbWV0cnkiLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEYXRhT2JqZWN0X190b19fTWV0YWdlbm9tZUFzc2VtYmx5IiwgInNvdXJjZSI6ICJEYXRhT2JqZWN0IiwgInRhcmdldCI6ICJNZXRhZ2Vub21lQXNzZW1ibHkiLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEYXRhT2JqZWN0X190b19fUmVhZFFjQW5hbHlzaXMiLCAic291cmNlIjogIkRhdGFPYmplY3QiLCAidGFyZ2V0IjogIlJlYWRRY0FuYWx5c2lzIiwgImxhYmVsIjogIndhc19nZW5lcmF0ZWRfYnkifX0sIHsiZGF0YSI6IHsiaWQiOiAiRGF0YU9iamVjdF9fdG9fX01ldGFwcm90ZW9taWNzQW5hbHlzaXMiLCAic291cmNlIjogIkRhdGFPYmplY3QiLCAidGFyZ2V0IjogIk1ldGFwcm90ZW9taWNzQW5hbHlzaXMiLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEYXRhT2JqZWN0X190b19fTWFnc0FuYWx5c2lzIiwgInNvdXJjZSI6ICJEYXRhT2JqZWN0IiwgInRhcmdldCI6ICJNYWdzQW5hbHlzaXMiLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEYXRhT2JqZWN0X190b19fUmVhZEJhc2VkVGF4b25vbXlBbmFseXNpcyIsICJzb3VyY2UiOiAiRGF0YU9iamVjdCIsICJ0YXJnZXQiOiAiUmVhZEJhc2VkVGF4b25vbXlBbmFseXNpcyIsICJsYWJlbCI6ICJ3YXNfZ2VuZXJhdGVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFPYmplY3RfX3RvX19Bbm5vdGF0aW5nV29ya2Zsb3ciLCAic291cmNlIjogIkRhdGFPYmplY3QiLCAidGFyZ2V0IjogIkFubm90YXRpbmdXb3JrZmxvdyIsICJsYWJlbCI6ICJ3YXNfZ2VuZXJhdGVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFPYmplY3RfX3RvX19NZXRhdHJhbnNjcmlwdG9tZUV4cHJlc3Npb25BbmFseXNpcyIsICJzb3VyY2UiOiAiRGF0YU9iamVjdCIsICJ0YXJnZXQiOiAiTWV0YXRyYW5zY3JpcHRvbWVFeHByZXNzaW9uQW5hbHlzaXMiLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEYXRhT2JqZWN0X190b19fRGF0YUdlbmVyYXRpb24iLCAic291cmNlIjogIkRhdGFPYmplY3QiLCAidGFyZ2V0IjogIkRhdGFHZW5lcmF0aW9uIiwgImxhYmVsIjogIndhc19nZW5lcmF0ZWRfYnkifX0sIHsiZGF0YSI6IHsiaWQiOiAiRGF0YU9iamVjdF9fdG9fX05vbUFuYWx5c2lzIiwgInNvdXJjZSI6ICJEYXRhT2JqZWN0IiwgInRhcmdldCI6ICJOb21BbmFseXNpcyIsICJsYWJlbCI6ICJ3YXNfZ2VuZXJhdGVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFPYmplY3RfX3RvX19NZXRhdHJhbnNjcmlwdG9tZUFzc2VtYmx5IiwgInNvdXJjZSI6ICJEYXRhT2JqZWN0IiwgInRhcmdldCI6ICJNZXRhdHJhbnNjcmlwdG9tZUFzc2VtYmx5IiwgImxhYmVsIjogIndhc19nZW5lcmF0ZWRfYnkifX0sIHsiZGF0YSI6IHsiaWQiOiAiRGF0YU9iamVjdF9fdG9fX1dvcmtmbG93RXhlY3V0aW9uIiwgInNvdXJjZSI6ICJEYXRhT2JqZWN0IiwgInRhcmdldCI6ICJXb3JrZmxvd0V4ZWN1dGlvbiIsICJsYWJlbCI6ICJ3YXNfZ2VuZXJhdGVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFPYmplY3RfX3RvX19NZXRhdHJhbnNjcmlwdG9tZUFubm90YXRpb24iLCAic291cmNlIjogIkRhdGFPYmplY3QiLCAidGFyZ2V0IjogIk1ldGF0cmFuc2NyaXB0b21lQW5ub3RhdGlvbiIsICJsYWJlbCI6ICJ3YXNfZ2VuZXJhdGVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFPYmplY3RfX3RvX19OdWNsZW90aWRlU2VxdWVuY2luZyIsICJzb3VyY2UiOiAiRGF0YU9iamVjdCIsICJ0YXJnZXQiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEYXRhT2JqZWN0X190b19fTWV0YWJvbG9taWNzQW5hbHlzaXMiLCAic291cmNlIjogIkRhdGFPYmplY3QiLCAidGFyZ2V0IjogIk1ldGFib2xvbWljc0FuYWx5c2lzIiwgImxhYmVsIjogIndhc19nZW5lcmF0ZWRfYnkifX0sIHsiZGF0YSI6IHsiaWQiOiAiRGF0YU9iamVjdF9fdG9fX01ldGFnZW5vbWVBbm5vdGF0aW9uIiwgInNvdXJjZSI6ICJEYXRhT2JqZWN0IiwgInRhcmdldCI6ICJNZXRhZ2Vub21lQW5ub3RhdGlvbiIsICJsYWJlbCI6ICJ3YXNfZ2VuZXJhdGVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIkRhdGFPYmplY3RfX3RvX19NYW5pZmVzdCIsICJzb3VyY2UiOiAiRGF0YU9iamVjdCIsICJ0YXJnZXQiOiAiTWFuaWZlc3QiLCAibGFiZWwiOiAiaW5fbWFuaWZlc3QifX0sIHsiZGF0YSI6IHsiaWQiOiAiRmllbGRSZXNlYXJjaFNpdGVfX3RvX19GaWVsZFJlc2VhcmNoU2l0ZSIsICJzb3VyY2UiOiAiRmllbGRSZXNlYXJjaFNpdGUiLCAidGFyZ2V0IjogIkZpZWxkUmVzZWFyY2hTaXRlIiwgImxhYmVsIjogInBhcnRfb2YifX0sIHsiZGF0YSI6IHsiaWQiOiAiRnVuY3Rpb25hbEFubm90YXRpb25BZ2dNZW1iZXJfX3RvX19Bbm5vdGF0aW5nV29ya2Zsb3ciLCAic291cmNlIjogIkZ1bmN0aW9uYWxBbm5vdGF0aW9uQWdnTWVtYmVyIiwgInRhcmdldCI6ICJBbm5vdGF0aW5nV29ya2Zsb3ciLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJGdW5jdGlvbmFsQW5ub3RhdGlvbkFnZ01lbWJlcl9fdG9fX01ldGFwcm90ZW9taWNzQW5hbHlzaXMiLCAic291cmNlIjogIkZ1bmN0aW9uYWxBbm5vdGF0aW9uQWdnTWVtYmVyIiwgInRhcmdldCI6ICJNZXRhcHJvdGVvbWljc0FuYWx5c2lzIiwgImxhYmVsIjogIndhc19nZW5lcmF0ZWRfYnkifX0sIHsiZGF0YSI6IHsiaWQiOiAiRnVuY3Rpb25hbEFubm90YXRpb25BZ2dNZW1iZXJfX3RvX19NZXRhdHJhbnNjcmlwdG9tZUFubm90YXRpb24iLCAic291cmNlIjogIkZ1bmN0aW9uYWxBbm5vdGF0aW9uQWdnTWVtYmVyIiwgInRhcmdldCI6ICJNZXRhdHJhbnNjcmlwdG9tZUFubm90YXRpb24iLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJGdW5jdGlvbmFsQW5ub3RhdGlvbkFnZ01lbWJlcl9fdG9fX01ldGFnZW5vbWVBbm5vdGF0aW9uIiwgInNvdXJjZSI6ICJGdW5jdGlvbmFsQW5ub3RhdGlvbkFnZ01lbWJlciIsICJ0YXJnZXQiOiAiTWV0YWdlbm9tZUFubm90YXRpb24iLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJGdW5jdGlvbmFsQW5ub3RhdGlvbl9fdG9fX01ldGFnZW5vbWVBbm5vdGF0aW9uIiwgInNvdXJjZSI6ICJGdW5jdGlvbmFsQW5ub3RhdGlvbiIsICJ0YXJnZXQiOiAiTWV0YWdlbm9tZUFubm90YXRpb24iLCAibGFiZWwiOiAid2FzX2dlbmVyYXRlZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJGaWx0cmF0aW9uUHJvY2Vzc19fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIkZpbHRyYXRpb25Qcm9jZXNzIiwgInRhcmdldCI6ICJJbnN0cnVtZW50IiwgImxhYmVsIjogImluc3RydW1lbnRfdXNlZCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJGaWx0cmF0aW9uUHJvY2Vzc19fdG9fX1Byb2Nlc3NlZFNhbXBsZSIsICJzb3VyY2UiOiAiRmlsdHJhdGlvblByb2Nlc3MiLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiRmlsdHJhdGlvblByb2Nlc3NfX3RvX19CaW9zYW1wbGUiLCAic291cmNlIjogIkZpbHRyYXRpb25Qcm9jZXNzIiwgInRhcmdldCI6ICJCaW9zYW1wbGUiLCAibGFiZWwiOiAiaGFzX2lucHV0In19LCB7ImRhdGEiOiB7ImlkIjogIk1hdGVyaWFsUHJvY2Vzc2luZ19fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIk1hdGVyaWFsUHJvY2Vzc2luZyIsICJ0YXJnZXQiOiAiSW5zdHJ1bWVudCIsICJsYWJlbCI6ICJpbnN0cnVtZW50X3VzZWQifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWF0ZXJpYWxQcm9jZXNzaW5nX190b19fUHJvY2Vzc2VkU2FtcGxlIiwgInNvdXJjZSI6ICJNYXRlcmlhbFByb2Nlc3NpbmciLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWF0ZXJpYWxQcm9jZXNzaW5nX190b19fQmlvc2FtcGxlIiwgInNvdXJjZSI6ICJNYXRlcmlhbFByb2Nlc3NpbmciLCAidGFyZ2V0IjogIkJpb3NhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiQ2hlbWljYWxDb252ZXJzaW9uUHJvY2Vzc19fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIkNoZW1pY2FsQ29udmVyc2lvblByb2Nlc3MiLCAidGFyZ2V0IjogIkluc3RydW1lbnQiLCAibGFiZWwiOiAiaW5zdHJ1bWVudF91c2VkIn19LCB7ImRhdGEiOiB7ImlkIjogIkNoZW1pY2FsQ29udmVyc2lvblByb2Nlc3NfX3RvX19Qcm9jZXNzZWRTYW1wbGUiLCAic291cmNlIjogIkNoZW1pY2FsQ29udmVyc2lvblByb2Nlc3MiLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiQ2hlbWljYWxDb252ZXJzaW9uUHJvY2Vzc19fdG9fX0Jpb3NhbXBsZSIsICJzb3VyY2UiOiAiQ2hlbWljYWxDb252ZXJzaW9uUHJvY2VzcyIsICJ0YXJnZXQiOiAiQmlvc2FtcGxlIiwgImxhYmVsIjogImhhc19pbnB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJMaWJyYXJ5UHJlcGFyYXRpb25fX3RvX19JbnN0cnVtZW50IiwgInNvdXJjZSI6ICJMaWJyYXJ5UHJlcGFyYXRpb24iLCAidGFyZ2V0IjogIkluc3RydW1lbnQiLCAibGFiZWwiOiAiaW5zdHJ1bWVudF91c2VkIn19LCB7ImRhdGEiOiB7ImlkIjogIkxpYnJhcnlQcmVwYXJhdGlvbl9fdG9fX1Byb2Nlc3NlZFNhbXBsZSIsICJzb3VyY2UiOiAiTGlicmFyeVByZXBhcmF0aW9uIiwgInRhcmdldCI6ICJQcm9jZXNzZWRTYW1wbGUiLCAibGFiZWwiOiAiaGFzX2lucHV0LCBoYXNfb3V0cHV0In19LCB7ImRhdGEiOiB7ImlkIjogIkxpYnJhcnlQcmVwYXJhdGlvbl9fdG9fX0Jpb3NhbXBsZSIsICJzb3VyY2UiOiAiTGlicmFyeVByZXBhcmF0aW9uIiwgInRhcmdldCI6ICJCaW9zYW1wbGUiLCAibGFiZWwiOiAiaGFzX2lucHV0In19LCB7ImRhdGEiOiB7ImlkIjogIlBvb2xpbmdfX3RvX19JbnN0cnVtZW50IiwgInNvdXJjZSI6ICJQb29saW5nIiwgInRhcmdldCI6ICJJbnN0cnVtZW50IiwgImxhYmVsIjogImluc3RydW1lbnRfdXNlZCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJQb29saW5nX190b19fUHJvY2Vzc2VkU2FtcGxlIiwgInNvdXJjZSI6ICJQb29saW5nIiwgInRhcmdldCI6ICJQcm9jZXNzZWRTYW1wbGUiLCAibGFiZWwiOiAiaGFzX2lucHV0LCBoYXNfb3V0cHV0In19LCB7ImRhdGEiOiB7ImlkIjogIlBvb2xpbmdfX3RvX19CaW9zYW1wbGUiLCAic291cmNlIjogIlBvb2xpbmciLCAidGFyZ2V0IjogIkJpb3NhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiRXh0cmFjdGlvbl9fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIkV4dHJhY3Rpb24iLCAidGFyZ2V0IjogIkluc3RydW1lbnQiLCAibGFiZWwiOiAiaW5zdHJ1bWVudF91c2VkIn19LCB7ImRhdGEiOiB7ImlkIjogIkV4dHJhY3Rpb25fX3RvX19Qcm9jZXNzZWRTYW1wbGUiLCAic291cmNlIjogIkV4dHJhY3Rpb24iLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiRXh0cmFjdGlvbl9fdG9fX0Jpb3NhbXBsZSIsICJzb3VyY2UiOiAiRXh0cmFjdGlvbiIsICJ0YXJnZXQiOiAiQmlvc2FtcGxlIiwgImxhYmVsIjogImhhc19pbnB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJDaHJvbWF0b2dyYXBoaWNTZXBhcmF0aW9uUHJvY2Vzc19fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIkNocm9tYXRvZ3JhcGhpY1NlcGFyYXRpb25Qcm9jZXNzIiwgInRhcmdldCI6ICJJbnN0cnVtZW50IiwgImxhYmVsIjogImluc3RydW1lbnRfdXNlZCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJDaHJvbWF0b2dyYXBoaWNTZXBhcmF0aW9uUHJvY2Vzc19fdG9fX1Byb2Nlc3NlZFNhbXBsZSIsICJzb3VyY2UiOiAiQ2hyb21hdG9ncmFwaGljU2VwYXJhdGlvblByb2Nlc3MiLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiQ2hyb21hdG9ncmFwaGljU2VwYXJhdGlvblByb2Nlc3NfX3RvX19CaW9zYW1wbGUiLCAic291cmNlIjogIkNocm9tYXRvZ3JhcGhpY1NlcGFyYXRpb25Qcm9jZXNzIiwgInRhcmdldCI6ICJCaW9zYW1wbGUiLCAibGFiZWwiOiAiaGFzX2lucHV0In19LCB7ImRhdGEiOiB7ImlkIjogIlN1YlNhbXBsaW5nUHJvY2Vzc19fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIlN1YlNhbXBsaW5nUHJvY2VzcyIsICJ0YXJnZXQiOiAiSW5zdHJ1bWVudCIsICJsYWJlbCI6ICJpbnN0cnVtZW50X3VzZWQifX0sIHsiZGF0YSI6IHsiaWQiOiAiU3ViU2FtcGxpbmdQcm9jZXNzX190b19fUHJvY2Vzc2VkU2FtcGxlIiwgInNvdXJjZSI6ICJTdWJTYW1wbGluZ1Byb2Nlc3MiLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiU3ViU2FtcGxpbmdQcm9jZXNzX190b19fQmlvc2FtcGxlIiwgInNvdXJjZSI6ICJTdWJTYW1wbGluZ1Byb2Nlc3MiLCAidGFyZ2V0IjogIkJpb3NhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWl4aW5nUHJvY2Vzc19fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIk1peGluZ1Byb2Nlc3MiLCAidGFyZ2V0IjogIkluc3RydW1lbnQiLCAibGFiZWwiOiAiaW5zdHJ1bWVudF91c2VkIn19LCB7ImRhdGEiOiB7ImlkIjogIk1peGluZ1Byb2Nlc3NfX3RvX19Qcm9jZXNzZWRTYW1wbGUiLCAic291cmNlIjogIk1peGluZ1Byb2Nlc3MiLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWl4aW5nUHJvY2Vzc19fdG9fX0Jpb3NhbXBsZSIsICJzb3VyY2UiOiAiTWl4aW5nUHJvY2VzcyIsICJ0YXJnZXQiOiAiQmlvc2FtcGxlIiwgImxhYmVsIjogImhhc19pbnB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEaXNzb2x2aW5nUHJvY2Vzc19fdG9fX0luc3RydW1lbnQiLCAic291cmNlIjogIkRpc3NvbHZpbmdQcm9jZXNzIiwgInRhcmdldCI6ICJJbnN0cnVtZW50IiwgImxhYmVsIjogImluc3RydW1lbnRfdXNlZCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJEaXNzb2x2aW5nUHJvY2Vzc19fdG9fX1Byb2Nlc3NlZFNhbXBsZSIsICJzb3VyY2UiOiAiRGlzc29sdmluZ1Byb2Nlc3MiLCAidGFyZ2V0IjogIlByb2Nlc3NlZFNhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiRGlzc29sdmluZ1Byb2Nlc3NfX3RvX19CaW9zYW1wbGUiLCAic291cmNlIjogIkRpc3NvbHZpbmdQcm9jZXNzIiwgInRhcmdldCI6ICJCaW9zYW1wbGUiLCAibGFiZWwiOiAiaGFzX2lucHV0In19LCB7ImRhdGEiOiB7ImlkIjogIlN0b3JhZ2VQcm9jZXNzX190b19fUHJvY2Vzc2VkU2FtcGxlIiwgInNvdXJjZSI6ICJTdG9yYWdlUHJvY2VzcyIsICJ0YXJnZXQiOiAiUHJvY2Vzc2VkU2FtcGxlIiwgImxhYmVsIjogImhhc19pbnB1dCwgaGFzX291dHB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJTdG9yYWdlUHJvY2Vzc19fdG9fX0Jpb3NhbXBsZSIsICJzb3VyY2UiOiAiU3RvcmFnZVByb2Nlc3MiLCAidGFyZ2V0IjogIkJpb3NhbXBsZSIsICJsYWJlbCI6ICJoYXNfaW5wdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiU3R1ZHlfX3RvX19TdHVkeSIsICJzb3VyY2UiOiAiU3R1ZHkiLCAidGFyZ2V0IjogIlN0dWR5IiwgImxhYmVsIjogInBhcnRfb2YifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWV0YWdlbm9tZUFzc2VtYmx5X190b19fTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAic291cmNlIjogIk1ldGFnZW5vbWVBc3NlbWJseSIsICJ0YXJnZXQiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAibGFiZWwiOiAid2FzX2luZm9ybWVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGFnZW5vbWVBc3NlbWJseV9fdG9fX0RhdGFPYmplY3QiLCAic291cmNlIjogIk1ldGFnZW5vbWVBc3NlbWJseSIsICJ0YXJnZXQiOiAiRGF0YU9iamVjdCIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiTWV0YXByb3Rlb21pY3NBbmFseXNpc19fdG9fX01hc3NTcGVjdHJvbWV0cnkiLCAic291cmNlIjogIk1ldGFwcm90ZW9taWNzQW5hbHlzaXMiLCAidGFyZ2V0IjogIk1hc3NTcGVjdHJvbWV0cnkiLCAibGFiZWwiOiAid2FzX2luZm9ybWVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGFwcm90ZW9taWNzQW5hbHlzaXNfX3RvX19EYXRhT2JqZWN0IiwgInNvdXJjZSI6ICJNZXRhcHJvdGVvbWljc0FuYWx5c2lzIiwgInRhcmdldCI6ICJEYXRhT2JqZWN0IiwgImxhYmVsIjogImhhc19pbnB1dCwgaGFzX291dHB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJSZWFkUWNBbmFseXNpc19fdG9fX051Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgInNvdXJjZSI6ICJSZWFkUWNBbmFseXNpcyIsICJ0YXJnZXQiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAibGFiZWwiOiAid2FzX2luZm9ybWVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIlJlYWRRY0FuYWx5c2lzX190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiUmVhZFFjQW5hbHlzaXMiLCAidGFyZ2V0IjogIkRhdGFPYmplY3QiLCAibGFiZWwiOiAiaGFzX2lucHV0LCBoYXNfb3V0cHV0In19LCB7ImRhdGEiOiB7ImlkIjogIk1hZ3NBbmFseXNpc19fdG9fX051Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgInNvdXJjZSI6ICJNYWdzQW5hbHlzaXMiLCAidGFyZ2V0IjogIk51Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgImxhYmVsIjogIndhc19pbmZvcm1lZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNYWdzQW5hbHlzaXNfX3RvX19EYXRhT2JqZWN0IiwgInNvdXJjZSI6ICJNYWdzQW5hbHlzaXMiLCAidGFyZ2V0IjogIkRhdGFPYmplY3QiLCAibGFiZWwiOiAiaGFzX2lucHV0LCBoYXNfb3V0cHV0In19LCB7ImRhdGEiOiB7ImlkIjogIlJlYWRCYXNlZFRheG9ub215QW5hbHlzaXNfX3RvX19OdWNsZW90aWRlU2VxdWVuY2luZyIsICJzb3VyY2UiOiAiUmVhZEJhc2VkVGF4b25vbXlBbmFseXNpcyIsICJ0YXJnZXQiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAibGFiZWwiOiAid2FzX2luZm9ybWVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIlJlYWRCYXNlZFRheG9ub215QW5hbHlzaXNfX3RvX19EYXRhT2JqZWN0IiwgInNvdXJjZSI6ICJSZWFkQmFzZWRUYXhvbm9teUFuYWx5c2lzIiwgInRhcmdldCI6ICJEYXRhT2JqZWN0IiwgImxhYmVsIjogImhhc19pbnB1dCwgaGFzX291dHB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJBbm5vdGF0aW5nV29ya2Zsb3dfX3RvX19OdWNsZW90aWRlU2VxdWVuY2luZyIsICJzb3VyY2UiOiAiQW5ub3RhdGluZ1dvcmtmbG93IiwgInRhcmdldCI6ICJOdWNsZW90aWRlU2VxdWVuY2luZyIsICJsYWJlbCI6ICJ3YXNfaW5mb3JtZWRfYnkifX0sIHsiZGF0YSI6IHsiaWQiOiAiQW5ub3RhdGluZ1dvcmtmbG93X190b19fTWFzc1NwZWN0cm9tZXRyeSIsICJzb3VyY2UiOiAiQW5ub3RhdGluZ1dvcmtmbG93IiwgInRhcmdldCI6ICJNYXNzU3BlY3Ryb21ldHJ5IiwgImxhYmVsIjogIndhc19pbmZvcm1lZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJBbm5vdGF0aW5nV29ya2Zsb3dfX3RvX19EYXRhR2VuZXJhdGlvbiIsICJzb3VyY2UiOiAiQW5ub3RhdGluZ1dvcmtmbG93IiwgInRhcmdldCI6ICJEYXRhR2VuZXJhdGlvbiIsICJsYWJlbCI6ICJ3YXNfaW5mb3JtZWRfYnkifX0sIHsiZGF0YSI6IHsiaWQiOiAiQW5ub3RhdGluZ1dvcmtmbG93X190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiQW5ub3RhdGluZ1dvcmtmbG93IiwgInRhcmdldCI6ICJEYXRhT2JqZWN0IiwgImxhYmVsIjogImhhc19pbnB1dCwgaGFzX291dHB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNZXRhdHJhbnNjcmlwdG9tZUV4cHJlc3Npb25BbmFseXNpc19fdG9fX051Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgInNvdXJjZSI6ICJNZXRhdHJhbnNjcmlwdG9tZUV4cHJlc3Npb25BbmFseXNpcyIsICJ0YXJnZXQiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAibGFiZWwiOiAid2FzX2luZm9ybWVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGF0cmFuc2NyaXB0b21lRXhwcmVzc2lvbkFuYWx5c2lzX190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiTWV0YXRyYW5zY3JpcHRvbWVFeHByZXNzaW9uQW5hbHlzaXMiLCAidGFyZ2V0IjogIkRhdGFPYmplY3QiLCAibGFiZWwiOiAiaGFzX2lucHV0LCBoYXNfb3V0cHV0In19LCB7ImRhdGEiOiB7ImlkIjogIk5vbUFuYWx5c2lzX190b19fQ2FsaWJyYXRpb25JbmZvcm1hdGlvbiIsICJzb3VyY2UiOiAiTm9tQW5hbHlzaXMiLCAidGFyZ2V0IjogIkNhbGlicmF0aW9uSW5mb3JtYXRpb24iLCAibGFiZWwiOiAidXNlc19jYWxpYnJhdGlvbiJ9fSwgeyJkYXRhIjogeyJpZCI6ICJOb21BbmFseXNpc19fdG9fX01hc3NTcGVjdHJvbWV0cnkiLCAic291cmNlIjogIk5vbUFuYWx5c2lzIiwgInRhcmdldCI6ICJNYXNzU3BlY3Ryb21ldHJ5IiwgImxhYmVsIjogIndhc19pbmZvcm1lZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJOb21BbmFseXNpc19fdG9fX0RhdGFPYmplY3QiLCAic291cmNlIjogIk5vbUFuYWx5c2lzIiwgInRhcmdldCI6ICJEYXRhT2JqZWN0IiwgImxhYmVsIjogImhhc19pbnB1dCwgaGFzX291dHB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNZXRhdHJhbnNjcmlwdG9tZUFzc2VtYmx5X190b19fTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAic291cmNlIjogIk1ldGF0cmFuc2NyaXB0b21lQXNzZW1ibHkiLCAidGFyZ2V0IjogIk51Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgImxhYmVsIjogIndhc19pbmZvcm1lZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNZXRhdHJhbnNjcmlwdG9tZUFzc2VtYmx5X190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiTWV0YXRyYW5zY3JpcHRvbWVBc3NlbWJseSIsICJ0YXJnZXQiOiAiRGF0YU9iamVjdCIsICJsYWJlbCI6ICJoYXNfaW5wdXQsIGhhc19vdXRwdXQifX0sIHsiZGF0YSI6IHsiaWQiOiAiV29ya2Zsb3dFeGVjdXRpb25fX3RvX19OdWNsZW90aWRlU2VxdWVuY2luZyIsICJzb3VyY2UiOiAiV29ya2Zsb3dFeGVjdXRpb24iLCAidGFyZ2V0IjogIk51Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgImxhYmVsIjogIndhc19pbmZvcm1lZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJXb3JrZmxvd0V4ZWN1dGlvbl9fdG9fX01hc3NTcGVjdHJvbWV0cnkiLCAic291cmNlIjogIldvcmtmbG93RXhlY3V0aW9uIiwgInRhcmdldCI6ICJNYXNzU3BlY3Ryb21ldHJ5IiwgImxhYmVsIjogIndhc19pbmZvcm1lZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJXb3JrZmxvd0V4ZWN1dGlvbl9fdG9fX0RhdGFHZW5lcmF0aW9uIiwgInNvdXJjZSI6ICJXb3JrZmxvd0V4ZWN1dGlvbiIsICJ0YXJnZXQiOiAiRGF0YUdlbmVyYXRpb24iLCAibGFiZWwiOiAid2FzX2luZm9ybWVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIldvcmtmbG93RXhlY3V0aW9uX190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiV29ya2Zsb3dFeGVjdXRpb24iLCAidGFyZ2V0IjogIkRhdGFPYmplY3QiLCAibGFiZWwiOiAiaGFzX2lucHV0LCBoYXNfb3V0cHV0In19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGF0cmFuc2NyaXB0b21lQW5ub3RhdGlvbl9fdG9fX051Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgInNvdXJjZSI6ICJNZXRhdHJhbnNjcmlwdG9tZUFubm90YXRpb24iLCAidGFyZ2V0IjogIk51Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgImxhYmVsIjogIndhc19pbmZvcm1lZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNZXRhdHJhbnNjcmlwdG9tZUFubm90YXRpb25fX3RvX19EYXRhT2JqZWN0IiwgInNvdXJjZSI6ICJNZXRhdHJhbnNjcmlwdG9tZUFubm90YXRpb24iLCAidGFyZ2V0IjogIkRhdGFPYmplY3QiLCAibGFiZWwiOiAiaGFzX2lucHV0LCBoYXNfb3V0cHV0In19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGFib2xvbWljc0FuYWx5c2lzX190b19fQ2FsaWJyYXRpb25JbmZvcm1hdGlvbiIsICJzb3VyY2UiOiAiTWV0YWJvbG9taWNzQW5hbHlzaXMiLCAidGFyZ2V0IjogIkNhbGlicmF0aW9uSW5mb3JtYXRpb24iLCAibGFiZWwiOiAidXNlc19jYWxpYnJhdGlvbiJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNZXRhYm9sb21pY3NBbmFseXNpc19fdG9fX01hc3NTcGVjdHJvbWV0cnkiLCAic291cmNlIjogIk1ldGFib2xvbWljc0FuYWx5c2lzIiwgInRhcmdldCI6ICJNYXNzU3BlY3Ryb21ldHJ5IiwgImxhYmVsIjogIndhc19pbmZvcm1lZF9ieSJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNZXRhYm9sb21pY3NBbmFseXNpc19fdG9fX0RhdGFPYmplY3QiLCAic291cmNlIjogIk1ldGFib2xvbWljc0FuYWx5c2lzIiwgInRhcmdldCI6ICJEYXRhT2JqZWN0IiwgImxhYmVsIjogImhhc19pbnB1dCwgaGFzX291dHB1dCJ9fSwgeyJkYXRhIjogeyJpZCI6ICJNZXRhZ2Vub21lQW5ub3RhdGlvbl9fdG9fX051Y2xlb3RpZGVTZXF1ZW5jaW5nIiwgInNvdXJjZSI6ICJNZXRhZ2Vub21lQW5ub3RhdGlvbiIsICJ0YXJnZXQiOiAiTnVjbGVvdGlkZVNlcXVlbmNpbmciLCAibGFiZWwiOiAid2FzX2luZm9ybWVkX2J5In19LCB7ImRhdGEiOiB7ImlkIjogIk1ldGFnZW5vbWVBbm5vdGF0aW9uX190b19fRGF0YU9iamVjdCIsICJzb3VyY2UiOiAiTWV0YWdlbm9tZUFubm90YXRpb24iLCAidGFyZ2V0IjogIkRhdGFPYmplY3QiLCAibGFiZWwiOiAiaGFzX2lucHV0LCBoYXNfb3V0cHV0In19XQ=="
        data-graph-metadata-json-str-base64="eyJhcHBfdmVyc2lvbiI6ICIwLjIuNSIsICJzY2hlbWFfdmVyc2lvbiI6ICIxMS4xMi4xLnBvc3Q1OC5kZXYwKzYwNWQ4MTMzIiwgInN1YmplY3Rfc2luZ3VsYXIiOiAiY2xhc3MiLCAic3ViamVjdF9wbHVyYWwiOiAiY2xhc3NlcyJ9"
></div>

<!-- Note: The JavaScript code below will render the above graph data
           as a graph within this HTML element. -->
<div id="graph-container"></div>

<!-- Note: The JavaScript code below will render metadata about the graph,
           within this HTML element. -->
<div id="metadata-container"></div>

<!-- Note: The third-party JavaScript code we're loading here will add a function
           named `cytoscape` to the `window` object (i.e. the global scope).
           Reference: https://js.cytoscape.org/ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.30.1/cytoscape.min.js"
        integrity="sha512-kv2oCpI8sYlWvr442qCcFNgXW9swhLRlDJ/39GlfZLGAWOqgU/Kz30YCYBm0yLumVzRvYEMU6uSxFniGzitKiA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    (function () {
        // Note: A Python script will replace the `{{ ... }}` placeholder.
        console.log("Schema version: {{ schema_version }}");

        // Extract the base64-encoded graph metadata and data from the `graph-data` HTML element.
        // Reference: https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset
        let graphMetadata = {};
        let graphData = [];
        const graphDataEl = document.getElementById("graph-data");
        const graphMetadataJsonStrBase64 = graphDataEl.dataset.graphMetadataJsonStrBase64;
        const graphDataJsonStrBase64 = graphDataEl.dataset.graphDataJsonStrBase64;

        // Base64-decode the graph metadata and parse it as JSON.
        try {
            const graphMetadataJsonStr = atob(graphMetadataJsonStrBase64);
            graphMetadata = JSON.parse(graphMetadataJsonStr);
            console.debug("graphMetadata", graphMetadata);
        } catch (error) {
            alert("Failed to parse metadata.");
            console.debug("graphMetadataJsonStrBase64", graphMetadataJsonStrBase64);
            console.error(error);
        }

        // Display the graph metadata on the web page.
        const metadataContainerEl = document.getElementById("metadata-container");
        const metadataListEl = document.createElement("ul");
        if (typeof graphMetadata["schema_version"] === "string") {
            const li = document.createElement("li");
            li.textContent = `Schema version ${graphMetadata["schema_version"]}`;
            metadataListEl.appendChild(li);
        }
        if (typeof graphMetadata["app_version"] === "string") {
            const li = document.createElement("li");
            li.textContent = `refscan version ${graphMetadata["app_version"]}`;
            metadataListEl.appendChild(li);
        }
        let subjectSingular = graphMetadata["subject_singular"];
        let subjectPlural = graphMetadata["subject_plural"];
        metadataContainerEl.appendChild(metadataListEl);

        // Base64-decode the graph data and parse it as JSON.
        try {
            const graphDataJsonStr = atob(graphDataJsonStrBase64);
            graphData = JSON.parse(graphDataJsonStr);
            console.debug("graphData", graphData);
        } catch (error) {
            alert("Failed to parse reference data.");
            console.debug("graphDataJsonStrBase64", graphDataJsonStrBase64);
            console.error(error);
        }

        // Display the graph on the web page.
        const cy = window.cytoscape({
            container: document.getElementById("graph-container"),
            elements: graphData,
            layout: {
                name: "circle" // For other options, see: https://js.cytoscape.org/#layouts
            },
            style: [
                {
                    selector: "node",
                    style: {
                        label: "data(id)",
                        backgroundColor: "#666666",
                    },
                },
                {
                    selector: "edge",
                    style: {
                        fontSize: "0.75em",
                        textRotation: "autorotate", // parallel to the edge
                        lineColor: "#999999",
                        targetArrowColor: "#999999",
                        targetArrowShape: "triangle",
                        curveStyle: "bezier",
                        width: 1,
                    },
                },
                {
                    selector: "node.outgoer",
                    style: {
                        fontWeight: "bold",
                        color: "#00FF00", // text color
                        backgroundColor: "#00FF00",
                    }
                },
                {
                    selector: "edge.outgoer",
                    style: {
                        label: "data(label)",
                        lineColor: "#00FF00",
                        targetArrowColor: "#00FF00",
                        width: 3,
                    }
                },
                {
                    selector: "node.incomer",
                    style: {
                        fontWeight: "bold",
                        color: "#FFA500", // text color
                        backgroundColor: "#FFA500",
                    }
                },
                {
                    selector: "edge.incomer",
                    style: {
                        label: "data(label)",
                        lineColor: "#FFA500",
                        targetArrowColor: "#FFA500",
                        width: 3,
                    }
                },
                {
                    selector: "node.incomer.outgoer", // a node that is both an incomer and an outgoer
                    style: {
                        fontWeight: "bold",
                        color: "#00FF00", // text color
                        backgroundColor: "#00FF00",
                        borderWidth: 3,
                        borderStyle: "solid",
                        borderColor: "#FFA500",
                    }
                },
                {
                    selector: "node.inFocus",
                    style: {
                        fontWeight: "bold",
                        color: "#0000FF", // text color
                        backgroundColor: "#0000FF"
                    }
                },
                {
                    selector: "node.isAbstract",
                    style: {
                        opacity: 0.5,
                    }
                },
                {
                    selector: "edge.isAbstract",
                    style: {
                        opacity: 0.5,
                    }
                },
            ],
        });

        // Whenever the user clicks on a node, highlight that node, all the edges
        // emanating from that node, and all the nodes those edges point to.
        //
        // References:
        // - https://js.cytoscape.org/#events
        // - https://js.cytoscape.org/#collection/traversing
        //
        cy.bind("tap", "node", (event) => {
            // Remove classes from all elements.
            cy.elements()
                .removeClass("outgoer")
                .removeClass("incomer")
                .removeClass("inFocus");

            // Apply classes to the target node, the arrows coming out of it,
            // and the nodes those arrows point to.
            event.target
                .addClass("inFocus")
                .outgoers()
                .addClass("outgoer");

            // Apply classes to the arrows pointing to the target node,
            // and the nodes those arrows are coming out of.
            event.target
                .incomers()
                .addClass("incomer");
        });

        // Whenever the user double-clicks on a node, un-highlight all elements.
        cy.bind("dbltap", "node", (event) => {
            // Remove classes from all elements.
            cy.elements()
                .removeClass("outgoer")
                .removeClass("incomer")
                .removeClass("inFocus");
        });

        /**
         * Sets up a text button that can be used to toggle the visibility of
         * nodes that represent abstract things.
         */
        function setupAbstractNodeVisibilityToggler() {
            // Get a collection of all nodes that represent abstract things.
            // Note: For conciseness, we refer to them as "abstract nodes" here.
            // Reference: https://js.cytoscape.org/#eles.filter
            const abstractNodes = cy.filter(function(el, idx, allEls) {
                return el.isNode() && el.data("is_abstract");
            });

            // If there are any abstract nodes, give them (and the edges connected to them)
            // a specific "stylesheet" class and set up their visibility toggler.
            if (abstractNodes.length > 0) {
                abstractNodes.addClass("isAbstract");
                abstractNodes.connectedEdges().addClass("isAbstract");
                
                // Set up a clickable element that can be used to show/hide the abstract nodes.
                // Note: When a node gets hidden, its connected edges will be automatically hidden also.
                const strings = {
                    prefix: `Abstract ${subjectPlural} are `,
                    visible: "visible",
                    hidden: "hidden",
                };
                let removedNodes = cy.collection(); // initially empty
                const prefixEl = document.createElement("span");
                prefixEl.textContent =strings.prefix;
                const togglerEl = document.createElement("button");
                togglerEl.classList.add("text-button");
                togglerEl.title = "Toggle visibility";
                const togglerTextEl = document.createElement("span");
                togglerTextEl.textContent = strings.visible;
                togglerEl.appendChild(togglerTextEl);
                togglerEl.addEventListener("click", () => {
                    if (removedNodes.length > 0) {
                        // Add them back into the graph.
                        removedNodes.restore();
                        removedNodes = cy.collection();
                        togglerTextEl.textContent = strings.visible;
                    } else {
                        // Remove them from the graph, but save them in memory.
                        removedNodes = cy.remove(abstractNodes);
                        togglerTextEl.textContent = strings.hidden;
                    }
                });
                metadataContainerEl.appendChild(prefixEl);
                metadataContainerEl.appendChild(togglerEl);
            }
        }

        // Set up the abstract node visibility toggler.
        setupAbstractNodeVisibilityToggler();
    })();
</script>
</body>
</html>