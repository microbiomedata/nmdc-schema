
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://microbiomedata.github.io/nmdc-schema/maintaining-the-schema/">
      
      
        <link rel="prev" href="../Metadata_Documentation_Overview/">
      
      
        <link rel="next" href="../schema_element_deprecation_guide/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Maintaining the NMDC Schema - NMDC Schema Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#understanding-the-nmdc-schema" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="NMDC Schema Documentation" class="md-header__button md-logo" aria-label="NMDC Schema Documentation" data-md-component="logo">
      
  <img src="../images/NMDC_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NMDC Schema Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Maintaining the NMDC Schema
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/microbiomedata/nmdc-schema" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="NMDC Schema Documentation" class="md-nav__button md-logo" aria-label="NMDC Schema Documentation" data-md-component="logo">
      
  <img src="../images/NMDC_logo.png" alt="logo">

    </a>
    NMDC Schema Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/microbiomedata/nmdc-schema" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Funding and Acknowledgements
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../collaboration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Metadata_Documentation_Overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metadata Standards Documentation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Maintaining the NMDC Schema
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Maintaining the NMDC Schema
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-nmdc-schema-is-expressed-in-the-linkml-modeling-language" class="md-nav__link">
    <span class="md-ellipsis">
      The NMDC Schema is expressed in the LinkML modeling language.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asserting-element-identifiers-in-the-schema-with-uris-and-curies" class="md-nav__link">
    <span class="md-ellipsis">
      Asserting element identifiers in the schema with URIs and CURIEs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefixes-in-linkml-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Prefixes in LinkML schemas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asserting-mappings-in-the-nmdc-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Asserting mappings in the NMDC Schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asserting-identifiers-in-linkml-data" class="md-nav__link">
    <span class="md-ellipsis">
      Asserting identifiers in LinkML data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mentioning-identifiers-in-linkml-data" class="md-nav__link">
    <span class="md-ellipsis">
      Mentioning identifiers in LinkML data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraining-mentioned-identifiers" class="md-nav__link">
    <span class="md-ellipsis">
      Constraining mentioned identifiers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-uris-supports-scoping-and-self-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Using URIs supports scoping and self-documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-curies-makes-things-more-compact-and-readable" class="md-nav__link">
    <span class="md-ellipsis">
      Using CURIes makes things more compact and readable
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-to-find-a-report-of-nmdc-prefixes" class="md-nav__link">
    <span class="md-ellipsis">
      Where to find a report of NMDC prefixes
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema_element_deprecation_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schema element deprecation guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema-validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NMDC Schema Validation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../identifiers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Identifiers
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../typecode-to-class-map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Typecode to class map
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Version Migration Guides
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualizations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Validation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer-docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Docs
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-nmdc-schema-is-expressed-in-the-linkml-modeling-language" class="md-nav__link">
    <span class="md-ellipsis">
      The NMDC Schema is expressed in the LinkML modeling language.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asserting-element-identifiers-in-the-schema-with-uris-and-curies" class="md-nav__link">
    <span class="md-ellipsis">
      Asserting element identifiers in the schema with URIs and CURIEs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefixes-in-linkml-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Prefixes in LinkML schemas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asserting-mappings-in-the-nmdc-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Asserting mappings in the NMDC Schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asserting-identifiers-in-linkml-data" class="md-nav__link">
    <span class="md-ellipsis">
      Asserting identifiers in LinkML data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mentioning-identifiers-in-linkml-data" class="md-nav__link">
    <span class="md-ellipsis">
      Mentioning identifiers in LinkML data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraining-mentioned-identifiers" class="md-nav__link">
    <span class="md-ellipsis">
      Constraining mentioned identifiers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-uris-supports-scoping-and-self-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Using URIs supports scoping and self-documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-curies-makes-things-more-compact-and-readable" class="md-nav__link">
    <span class="md-ellipsis">
      Using CURIes makes things more compact and readable
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-to-find-a-report-of-nmdc-prefixes" class="md-nav__link">
    <span class="md-ellipsis">
      Where to find a report of NMDC prefixes
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="understanding-the-nmdc-schema">Understanding the NMDC Schema</h1>
<p>The nmdc-schema is a framework for describing multi-omics microbiome experiments and the data they produce.  We aim 
to answer questions like:</p>
<ul>
<li>What samples were included?</li>
<li>Where were they gathered?</li>
<li>What qualities do they have?</li>
<li>How were they prepared, so that they would be suitable for sequencing, LC-MS proteomics, metabolomics, etc?</li>
<li>How were the results of those analyses interpreted?</li>
</ul>
<p>All metadata gathered and stored by the NMDC community must validate against the NMDC Schema.</p>
<h2 id="the-nmdc-schema-is-expressed-in-the-linkml-modeling-language">The NMDC Schema is expressed in the <a href="https://linkml.github.io/linkml/">LinkML</a> modeling language.</h2>
<p>LinkML uses structures like classes, slots (for relationships and properties), types and enumerations to create a 
blueprint of the NMDC data. The schema is used to define the structure of the data, and to ensure that the data is
consistent and interoperable. The schema is expressed in a human-readable format, and with the help of LinkML tooling, 
can be generated in multiple formats, including JSONSchema (used to support validation on ingest to NMDC), 
YAML (for ease of editing), and OWL. LinkML schemas generally make good use of terminology and concepts already modeled 
in external, trusted knowledge centers, especially <a href="https://en.wikipedia.org/wiki/Ontology_(information_science)">ontologies</a>, 
and especially those from the <a href="https://obofoundry.org/">OBO Foundry</a>. </p>
<p>Reuse of existing terminologies and knowledge can be found in several places in the NMDC schema, including the use of
the <a href="https://gensc.org/mixs/">MIxS</a> schema, the <a href="https://environmentontology.org/">EnvO</a> ontology, and the 
<a href="https://www.ebi.ac.uk/chebi/">CHEBI</a> ontology.  In addition, the NMDC schema elements like slots and classes are
annotated with mappings (<a href="https://linkml.io/linkml/schemas/uris-and-mappings.html">exact, narrow, related scopes</a>) 
to these external resources.</p>
<p>For example: </p>
<pre><code class="language-yaml">  doi_value:
    description: &gt;-
      A digital object identifier, which is intended to persistantly identify some resource on the web.
    required: true
    aliases:
      - DOI
      - digital object identifier
    range: uriorcurie
    pattern: '^doi:10.\d{2,9}/.*$'
    examples:
      - value: doi:10.46936/10.25585/60000880
        description: The DOI links to an electronic document.
    exact_mappings:
      - OBI:0002110
    narrow_mappings:
      - edam.data:1188
</code></pre>
<h2 id="asserting-element-identifiers-in-the-schema-with-uris-and-curies">Asserting element identifiers in the schema with URIs and CURIEs</h2>
<p>One consequence of this semantic/linked data orientation is that all schema elements are identified by a URI,
most often in the compact CURIe form: a prefix and a local identifier.
Even if a class isn't decorated with a <code>class_uri</code> annotation, it will always have a key (in a JSON, YAML or Python Obj sense), 
which is sometimes reiterated as the <code>name</code>. In that case, the class' URI will be <code>&lt;prefix&gt;:&lt;key&gt;</code>. 
LinkML schemas should have default prefix assertions, but any element can use a different prefix, as long as an expansion is provided.</p>
<h2 id="prefixes-in-linkml-schemas">Prefixes in LinkML <strong>schemas</strong></h2>
<p>Prefixes used in a LinkML must be associated with an expansion in the schema (which may include imported modules).
Ideally, the expanded URI should be web resolvable, but that is not required.
The prefixes can be expanded to base URIs owned by a particular resource, or they can be
expanded to base URIs owned by some resolving service, like the bioregistry.</p>
<h2 id="asserting-mappings-in-the-nmdc-schema">Asserting mappings in the NMDC Schema</h2>
<p>As mentioned above, URIs are assigned to most elements of a LinkML schema, either explicitly by the schema authors,
or implicitly through the default prefix and the element's key. If an external prefix is used, that means the semantics 
of the element are identical to the external term, unless otherwise refined. Sometimes it is desirable to associate a 
LinkML schema element with a term from an external resource, without asserting that the semantics are identical. 
In this case, a variety of <a href="https://linkml.io/linkml-model/latest/docs/mappings/">mapping terms</a> can be used.</p>
<p>Adding mappings to a schema element is one of the best and most compact ways to clarify the meaning of that element. </p>
<p>Schema contributors are strongly encouraged to use mappings whose prefixes are already defined in the schema.
Schema contributors are always responsible for having a holistic understanding of an external term to be mapped
into the schema. This means gaining familiarity with the parent and child terms, as well as any other axioms 
applied to the term. The EBI Ontology Lookup Service is a good place to look for these details.</p>
<p>When it appears necessary to use a mapping whose prefix isn't already defined in the schema, the contributor
is responsible for having a holistic understanding of the external namespace (not just the term to be mapped).
There are several ways to start assessing an ontology that is being considered as a source of mappings.
If the ontology is in the OBO Foundry, one can look at the 
<a href="http://dashboard.obofoundry.org/dashboard/index.html">OBO Foundry Dashboard</a>.</p>
<h2 id="asserting-identifiers-in-linkml-data">Asserting identifiers in LinkML data</h2>
<p>Generally speaking, the smallest atom of LinkML data is an instance of one class. LinkML slots take values, 
but always in the context of some class (on the right hand side). LinkML data files are frequently collections 
of instances of one or more classes. The is no requirement that these classes provide a slot whose value
uniquely identifies the instances, but LinkML provides a mechanism that is broadly followed:
one slot available in each class is annotated with <code>identifier: true</code>. (Or at least, that's what it would look like
in a YAML serialization.) That means that the slot is required in all instances of the class, 
and that any collection of instances from that class must have unique values in that slot. 
It is also typical to say that the range of the is type <code>uriorcurie</code>.</p>
<h2 id="mentioning-identifiers-in-linkml-data">Mentioning identifiers in LinkML data</h2>
<p>A common pattern in the nmdc-schema is asserting that some identifiable process has inputs and outputs. </p>
<pre><code class="language-yaml">pooling_set:
  - id: pooling:1
    inputs:
      - biosample:1
      - biosample:2
      - biosample:3
  - id: pooling:2
    inputs:
      - biosample:4
      - biosample:5
      - biosample:6
</code></pre>
<p>Here we have declared the existence of two pooling processes. A CURIe identifier is asserted for both of them,
and three inputs are mentioned for each. The example CURIes above don't necessarily follow any nmdc-schema
identifier pattern rules. If these were real CURIes, then the pooling and biosample prefixes would have to be
defined in the schema files.</p>
<p>In this case, let's assume definitions for the biosample inputs should be defined elsewhere in an NMDC data set.
Cases in which biosamples are mentioned without being defined would be considered violations of the referential integrity.
The development of referential integrity validators for LinkML has begun in Autumn, 2023.</p>
<p>Another pattern is saying that something defined within a NMDC data set is equivalent to something defined elsewhere.</p>
<pre><code class="language-yaml">biosample_set:
    - id: biosample:1
      gold_biosample_identifiers:
        - gold:1
        - gold:2
</code></pre>
<p>In this case, the gold prefix must be defined in the schema. When expanded to URIs via the prefix definitions,
these gold_biosample_identifiers would all be web-resolvable.</p>
<h2 id="constraining-mentioned-identifiers">Constraining mentioned identifiers</h2>
<p>We can limit the values that go into any slot by using a <code>pattern</code> constraint. We can also use the <code>id_prefixes</code> constraint
to limit the prefixes that are used in whatever slot has been declared to be the identifier of a class.
(Attributes of a class are supposed to be cascaded to subclasses, via the <code>is_a</code> attribute.
This may not always be the case though. In the nmdc-schema we have been using a belt-and-suspenders approach of 
re-declaring the <code>uriorcurie</code> range )</p>
<p>All prefixes used in the <code>id_prefixes</code> constraint must be defined in the schema. 
We should have a standing practice of reflecting on the declared <code>id_prefixes</code>, and removing prefixes that haven't been used yet
and are not likely to eer be used.</p>
<p>Maintenance of the prefix portions of a <code>pattern</code> will generally require more manual checking. We shouldn't be constraining
the values of slots to use a prefix that isn't declared, but no checks are automatically applied.</p>
<h2 id="using-uris-supports-scoping-and-self-documentation">Using URIs supports scoping and self-documentation</h2>
<p>Any class could use any slot with any range to "link to" something external. A <code>Person</code> could have a <code>place_of_birth</code> slot,
and that could take unconstrained string or enumerated values like "Switzerland". But that doesn't provide much support for
people looking up more information about the place_of_birth. You could create <code>wikidata_place_of_birth</code> and 
<code>dbpedia_place_of_birth</code> slots and add annotations to the slot to aid in external lookups, but that isn't a good practice if
supporting several external targets. A better practice is to have one <code>place_of_birth</code> slot, with the <code>uriorcuire</code> range.
Then users can provide values like <code>&lt;http://www.wikidata.org/entity/Q39&gt;</code> or <code>&lt;http://dbpedia.org/resource/Switzerland&gt;</code>.
Then there is no ambiguity about the target of the link. </p>
<h2 id="using-curies-makes-things-more-compact-and-readable">Using CURIes makes things more compact and readable</h2>
<p>If the schema contains prefix definitions like 
<code>wd: &lt;http://www.wikidata.org/entity/&gt;</code> and <code>dbpedia: &lt;http://dbpedia.org/resource/&gt;</code>, then the values can be written as 
<code>wd:Q39</code> and <code>dbpedia:Switzerland</code>. This is more compact and readable, but it requires that the prefixes be defined in the schema.
Then, more constraint can be imposed with a pattern on the <code>place_of_birth</code> slot like '^(wd|dbpedia):.+$'</p>
<h2 id="where-to-find-a-report-of-nmdc-prefixes">Where to find a report of NMDC prefixes</h2>
<ul>
<li>project/jsonld/nmdc.context.jsonld (autogenerated as the jsonldcontext output from <code>make gen-project</code>)</li>
<li>assets/misc/data_prefix_expansions.context.jsonld (curated based on prefixed observed in MongoDB)</li>
</ul>
<hr />
<h1 id="prefix-id-and-curie-notes">PREFIX, id and CURIe notes</h1>
<ul>
<li>not using <code>default_curi_maps</code> any more</li>
<li>all prefixes must now be explicit</li>
<li>prefix definitions have to account for prefixes and base URIs used in the schema and in the data</li>
<li>look out forthe presence of <a href="http://example.org/UNKNOWN/">http://example.org/UNKNOWN/</a> and "example." in the schema, the data and any SPARQL results</li>
<li>should prefixes be uppercase or lowercase?</li>
<li>it must be consistent. look for precedent</li>
<li>bogus emsl UUID prefixes handled with <code>--emsl-biosample-uuid-replacement</code> in <code>anyuri-strings-to-iris</code></li>
<li>keep an eye on validation <code>pattern</code>s and id_prefixes</li>
<li>MetaCyc expansion assumes we're talking about metacyc reactions and not genes, compounds etc. The same may hold for other under-qualified prefixes</li>
</ul>
<h2 id="see-locallintlog">see local/lint.log</h2>
<h3 id="use-bioregistry-not-identifiersorg-but">use bioregistry, not identifiers.org, BUT</h3>
<blockquote>
<p>warning Schema maps prefix 'CHEMBL.COMPOUND' to namespace '<a href="https://bioregistry.io/chembl.compound">https://bioregistry.io/chembl.compound</a>:' instead of
namespace '<a href="http://identifiers.org/chembl.compound/">http://identifiers.org/chembl.compound/</a>'  (canonical_prefixes)</p>
<p>warning Schema maps prefix 'rdf' to namespace '<a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a>' instead of using prefix '
RDF'  (canonical_prefixes)
warning Schema maps prefix 'rdfs' to namespace '<a href="http://www.w3.org/2000/01/rdf-schema#">http://www.w3.org/2000/01/rdf-schema#</a>' instead of using prefix 'RDFS'  (
canonical_prefixes)</p>
</blockquote>
<h2 id="typecodes">Typecodes</h2>
<p>Not only does NMDC require the use of the <code>nmdc</code> prefix in the primary identifier for data instances, 
but we also define a pattern that the local portion of the <code>id</code>s must follow. 
For example, an example <code>id</code> from the <code>NamedThing</code> class is 'nmdc:mgmag-00-x012.1_7_c1'.
The text that comes immediately after the <code>nmdc</code> prefix and colon, and before the first hyphen is the typecode, <code>mgmag</code> in this case.
Typecodes must correspond 1:1 to a class in the NMDC schema. The typecodes currently in use are available from the
nmdc-runtime API: <a href="https://api.microbiomedata.org/nmdcschema/typecodes">https://api.microbiomedata.org/nmdcschema/typecodes</a></p>
<p>Please see <a href="../identifiers/">identifers</a> for more information on the minting of identifiers in NMDC directly, and
for more discussion on identifier resolution and harmonization in NMDC.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "hide_page_title"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
    
  </body>
</html>